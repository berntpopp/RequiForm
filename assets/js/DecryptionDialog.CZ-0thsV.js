import{C,d as D,r as y,v as k,T,z as V,A as v,J as t,i as o,H as a,an as B,U as i,B as s,ao as I,I as S,h as $,ax as q,a3 as A,ar as N,as as U,a2 as g,ap as K,at as R}from"./index._YLKWksp.js";const E={__name:"DecryptionDialog",props:{modelValue:{type:Boolean,required:!0},error:{type:String,default:""}},emits:["update:modelValue","cancel","confirm"],setup(n,{emit:x}){const{t:r}=C(),m=D(()=>"decryption-dialog-title"),b=n,d=x,u=y(""),l=y(null);k(()=>b.modelValue,f=>{f&&(u.value="",T(()=>{let e=null;l.value&&(l.value.input&&typeof l.value.input.focus=="function"?e=l.value.input:l.value.$el&&typeof l.value.$el.querySelector=="function"?e=l.value.$el.querySelector("input"):typeof l.value.focus=="function"&&(e=l.value)),e&&typeof e.focus=="function"&&e.focus()}))});function w(){d("cancel"),d("update:modelValue",!1)}function c(){u.value.trim()!==""&&d("confirm",u.value)}return(f,e)=>(v(),V(R,{"model-value":n.modelValue,"max-width":"500","onUpdate:modelValue":e[1]||(e[1]=p=>f.$emit("update:modelValue",p)),"aria-labelledby":m.value},{default:t(()=>[o(K,null,{default:t(()=>[o(B,{id:m.value,class:"headline"},{default:t(()=>[a(i(s(r)("decryptionDialog.title")),1)]),_:1},8,["id"]),e[5]||(e[5]=a()),o(I,null,{default:t(()=>[o($,{ref_key:"passwordInputRef",ref:l,modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=p=>u.value=p),type:"password",label:s(r)("decryptionDialog.labels.password"),autocomplete:"off",onKeyup:q(c,["enter"])},null,8,["modelValue","label"]),e[2]||(e[2]=a()),n.error?(v(),V(A,{key:0,type:"error",class:"mt-3"},{default:t(()=>[a(i(n.error),1)]),_:1})):S("",!0)]),_:1}),e[6]||(e[6]=a()),o(N,null,{default:t(()=>[o(U),e[3]||(e[3]=a()),o(g,{text:"",onClick:w},{default:t(()=>[a(i(s(r)("decryptionDialog.buttons.cancel")),1)]),_:1}),e[4]||(e[4]=a()),o(g,{color:"primary",text:"",onClick:c},{default:t(()=>[a(i(s(r)("decryptionDialog.buttons.confirm")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value","aria-labelledby"]))}};export{E as default};
