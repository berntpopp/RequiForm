import{_ as e}from"./index.DzgN64hf.js";import{s as t,t as a,u as l,v as n,w as o,x as s,y as i}from"./vendor-vuetify-core.CnSxw3Nd.js";import{b as u,o as r,H as d,K as m,_ as p,$ as c,u as v,Z as f,x as y,d as b,c as g,a8 as V,j as h,R as x,a2 as F,a0 as _,l as D}from"./vendor-vue.MuR-ak5S.js";import"./vendor-pdf.CZcEIuwn.js";/* empty css                     */const k=e({__name:"LocaleDatePicker",props:{modelValue:{type:String,default:""},label:{type:String,default:"Birthdate"},error:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:""}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,n=a,o=navigator.language;function s(e){if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t}const i=u(s(l.modelValue));r((()=>l.modelValue),(e=>{i.value=s(e)})),r(i,(e=>{const t=(a=e)?a.toISOString().split("T")[0]:"";var a;n("update:modelValue",t)}));const f=u(null);function y(){setTimeout((()=>{var e;const t=null==(e=f.value)?void 0:e.$el;t&&t.querySelectorAll(".v-field").forEach((e=>{e.hasAttribute("aria-selected")&&e.removeAttribute("aria-selected"),e.hasAttribute("aria-haspopup")&&"listbox"===e.getAttribute("aria-haspopup")&&e.setAttribute("aria-haspopup","dialog"),["aria-autocomplete","aria-multiselectable"].forEach((t=>{e.hasAttribute(t)&&e.removeAttribute(t)}))}))}),100)}return d((()=>{y();const e=new MutationObserver((()=>{y()}));setTimeout((()=>{var t;(null==(t=f.value)?void 0:t.$el)&&e.observe(f.value.$el,{subtree:!0,attributes:!0,attributeFilter:["aria-selected","aria-haspopup"]})}),200)})),m(y),(a,l)=>(c(),p(v(t),{ref_key:"dateInput",ref:f,density:"compact","prepend-icon":"","prepend-inner-icon":"$calendar",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),label:e.label,locale:v(o),dense:"",outlined:"",error:e.error,"error-messages":e.errorMessages},null,8,["modelValue","label","locale","error","error-messages"]))}},[["__scopeId","data-v-4e8304b0"]]),$=e({__name:"PatientForm",props:{patientData:{type:Object,required:!0},pdfConfig:{type:Object,required:!1,default:()=>({})}},emits:["update:modelValue","update:patientData"],setup(e,{emit:t}){const{t:r}=f(),m=u(0),$=()=>{m.value++};d((()=>{window.addEventListener("i18n-updated",$),window.addEventListener("i18n-locale-changed",$)})),y((()=>{window.removeEventListener("i18n-updated",$),window.removeEventListener("i18n-locale-changed",$)}));const N=e,S=t,U=b("patientData"),q=b("updatePersonalInfo"),w=b("getFieldErrors",(()=>({}))),I=g((()=>{const e=w("personalInfo");return e&&e.firstName?r(e.firstName):""})),j=g((()=>{const e=w("personalInfo");return e&&e.lastName?r(e.lastName):""})),C=g((()=>{const e=w("personalInfo");return e&&e.birthdate?r(e.birthdate):""})),A=g((()=>{const e=w("personalInfo");return e&&e.sex?r(e.sex):""})),E=g((()=>{const e=w("personalInfo");return e&&e.insurance?r(e.insurance):""})),R=g((()=>{const e=w("personalInfo");return e&&e.referrer?r(e.referrer):""})),G=g((()=>{const e=w("personalInfo");return e&&e.diagnosis?r(e.diagnosis):""}));function O(e,t,...a){return g({get(){if(U&&t&&U.personalInfo){const e=U.personalInfo[t];if(void 0!==e)return e}let l=N.patientData;const n=[e,...a];for(const e of n){if(null===l||"object"!=typeof l||!(e in l))return(1!==n.length||"variantSegregationRequested"!==n[0])&&"";l=l[e]}return 1===n.length&&"variantSegregationRequested"===n[0]?"boolean"==typeof l&&l:l??""},set(l){q&&t&&q({[t]:l});const n=JSON.parse(JSON.stringify(N.patientData));let o=n;const s=[e,...a];for(let e=0;e<s.length-1;e++){const t=s[e];null!==o[t]&&"object"==typeof o[t]||(o[t]={}),o=o[t]}o[s[s.length-1]]=l,S("update:patientData",n)}})}function H(...e){return g({get(){let t=N.patientData;for(const a of e){if(null===t||"object"!=typeof t||!(a in t))return(1!==e.length||"variantSegregationRequested"!==e[0])&&"";t=t[a]}return 1===e.length&&"variantSegregationRequested"===e[0]?"boolean"==typeof t&&t:t??""},set(t){const a=JSON.parse(JSON.stringify(N.patientData));let l=a;for(let n=0;n<e.length-1;n++){const t=e[n];null!==l[t]&&"object"==typeof l[t]||(l[t]={}),l=l[t]}l[e[e.length-1]]=t,S("update:patientData",a)}})}const L=O("givenName","firstName"),M=O("familyName","lastName"),J=O("birthdate","birthdate"),T=O("sex","sex"),B=O("insurance","insurance"),P=O("physicianName","referrer"),K=H("familyHistory"),Z=H("parentalConsanguinity"),z=O("diagnosis","diagnosis"),Q=H("orderingDate"),W=g({get(){const e=N.patientData.variantSegregationRequested;return"boolean"==typeof e&&e},set(e){const t={...N.patientData};t.variantSegregationRequested=e,S("update:patientData",t)}}),X=H("variantDetails"),Y=H("genDGConsentData","provided"),ee=H("genDGConsentData","form","consentName"),te=H("genDGConsentData","form","consentDate"),ae=H("genDGConsentData","form","questionSecondaryFindings"),le=H("genDGConsentData","form","questionMaterial"),ne=H("genDGConsentData","form","questionExtended"),oe=H("genDGConsentData","form","questionResearch"),se=g((()=>[{text:r("patientForm.options.sex.male"),value:"male"},{text:r("patientForm.options.sex.female"),value:"female"},{text:r("patientForm.options.sex.undetermined"),value:"undetermined"}])),ie=g((()=>[{text:r("patientForm.options.familyHistory.conspicuous"),value:"conspicuous"},{text:r("patientForm.options.familyHistory.inconspicuous"),value:"inconspicuous"},{text:r("patientForm.options.familyHistory.unknown"),value:"unknown"}])),ue=g((()=>[{text:r("patientForm.options.consanguinity.yes"),value:"yes"},{text:r("patientForm.options.consanguinity.no"),value:"no"}])),re=g((()=>[{text:r("patientForm.options.consent.provided"),value:"provided"},{text:r("patientForm.options.consent.fill"),value:"fill"}])),de=g((()=>[{text:r("patientForm.options.yesNo.yes"),value:"yes"},{text:r("patientForm.options.yesNo.no"),value:"no"}]));return(e,t)=>(c(),V("div",null,[h(o,{dense:""},{default:_((()=>[h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(l,{density:"compact",outlined:"",label:v(r)("patientForm.labels.givenName"),key:`given-name-input-${m.value}`,modelValue:v(L),"onUpdate:modelValue":t[0]||(t[0]=e=>D(L)?L.value=e:null),"prepend-inner-icon":"mdi-account",error:!!I.value,"error-messages":I.value},null,8,["label","modelValue","error","error-messages"]))])),_:1}),t[19]||(t[19]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(l,{density:"compact",outlined:"",label:v(r)("patientForm.labels.familyName"),key:`family-name-input-${m.value}`,modelValue:v(M),"onUpdate:modelValue":t[1]||(t[1]=e=>D(M)?M.value=e:null),"prepend-inner-icon":"mdi-account-group",error:!!j.value,"error-messages":j.value},null,8,["label","modelValue","error","error-messages"]))])),_:1}),t[20]||(t[20]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(k,{modelValue:v(J),"onUpdate:modelValue":t[2]||(t[2]=e=>D(J)?J.value=e:null),label:v(r)("patientForm.labels.birthdate"),key:`birthdate-input-${m.value}`,error:!!C.value,"error-messages":C.value},null,8,["modelValue","label","error","error-messages"]))])),_:1}),t[21]||(t[21]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(r)("patientForm.labels.sex"),key:`sex-input-${m.value}`,items:se.value,"item-title":"text","item-value":"value",modelValue:v(T),"onUpdate:modelValue":t[3]||(t[3]=e=>D(T)?T.value=e:null),"prepend-inner-icon":"mdi-gender-male-female",error:!!A.value,"error-messages":A.value},null,8,["label","items","modelValue","error","error-messages"]))])),_:1})])),_:1}),t[32]||(t[32]=x()),h(s,{class:"my-1"}),t[33]||(t[33]=x()),h(o,{dense:""},{default:_((()=>[h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(l,{density:"compact",outlined:"",label:v(r)("patientForm.labels.insurance"),key:`insurance-input-${m.value}`,modelValue:v(B),"onUpdate:modelValue":t[4]||(t[4]=e=>D(B)?B.value=e:null),"prepend-inner-icon":"mdi-card-account-details-outline",error:!!E.value,"error-messages":E.value},null,8,["label","modelValue","error","error-messages"]))])),_:1}),t[22]||(t[22]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(l,{density:"compact",outlined:"",label:v(r)("patientForm.labels.physicianName"),key:`physician-input-${m.value}`,modelValue:v(P),"onUpdate:modelValue":t[5]||(t[5]=e=>D(P)?P.value=e:null),"prepend-inner-icon":"mdi-stethoscope",error:!!R.value,"error-messages":R.value},null,8,["label","modelValue","error","error-messages"]))])),_:1})])),_:1}),t[34]||(t[34]=x()),h(s,{class:"my-1"}),t[35]||(t[35]=x()),h(o,{dense:""},{default:_((()=>[h(a,{cols:"12",sm:"4"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(r)("patientForm.labels.familyHistory"),key:`family-history-input-${m.value}`,items:ie.value,"item-title":"text","item-value":"value",modelValue:v(K),"onUpdate:modelValue":t[6]||(t[6]=e=>D(K)?K.value=e:null),"prepend-inner-icon":"mdi-history"},null,8,["label","items","modelValue"]))])),_:1}),t[23]||(t[23]=x()),h(a,{cols:"12",sm:"4"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(r)("patientForm.labels.parentalConsanguinity"),key:`consanguinity-input-${m.value}`,items:ue.value,"item-title":"text","item-value":"value",modelValue:v(Z),"onUpdate:modelValue":t[7]||(t[7]=e=>D(Z)?Z.value=e:null),"prepend-inner-icon":"mdi-human-male-female"},null,8,["label","items","modelValue"]))])),_:1}),t[24]||(t[24]=x()),h(a,{cols:"12",sm:"4"},{default:_((()=>[(c(),p(l,{density:"compact",outlined:"",label:v(r)("patientForm.labels.diagnosis"),key:`diagnosis-input-${m.value}`,modelValue:v(z),"onUpdate:modelValue":t[8]||(t[8]=e=>D(z)?z.value=e:null),rows:"2","prepend-inner-icon":"mdi-file-document-edit-outline","persistent-hint":"",error:!!G.value,"error-messages":G.value},null,8,["label","modelValue","error","error-messages"]))])),_:1})])),_:1}),t[36]||(t[36]=x()),h(s,{class:"my-1"}),t[37]||(t[37]=x()),h(o,{dense:""},{default:_((()=>[h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(k,{modelValue:v(Q),"onUpdate:modelValue":t[9]||(t[9]=e=>D(Q)?Q.value=e:null),label:v(r)("patientForm.labels.orderingDate"),key:`ordering-date-input-${m.value}`},null,8,["modelValue","label"]))])),_:1}),t[25]||(t[25]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(r)("patientForm.labels.consent"),key:`consent-input-${m.value}`,items:re.value,"item-title":"text","item-value":"value",modelValue:v(Y),"onUpdate:modelValue":t[10]||(t[10]=e=>D(Y)?Y.value=e:null)},null,8,["label","items","modelValue"]))])),_:1})])),_:1}),t[38]||(t[38]=x()),"fill"===v(Y)?(c(),p(o,{key:0,dense:"",class:"mt-2"},{default:_((()=>[h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(l,{density:"compact",outlined:"",label:v(r)("patientForm.labels.consentGivenBy"),key:`consent-given-by-input-${m.value}`,modelValue:v(ee),"onUpdate:modelValue":t[11]||(t[11]=e=>D(ee)?ee.value=e:null)},null,8,["label","modelValue"]))])),_:1}),t[26]||(t[26]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(k,{modelValue:v(te),"onUpdate:modelValue":t[12]||(t[12]=e=>D(te)?te.value=e:null),label:v(r)("patientForm.labels.consentDate"),key:`consent-date-input-${m.value}`},null,8,["modelValue","label"]))])),_:1}),t[27]||(t[27]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(r)("patientForm.labels.consentSecondaryFindings"),key:`consent-secondary-input-${m.value}`,items:de.value,"item-title":"text","item-value":"value",modelValue:v(ae),"onUpdate:modelValue":t[13]||(t[13]=e=>D(ae)?ae.value=e:null)},null,8,["label","items","modelValue"]))])),_:1}),t[28]||(t[28]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(r)("patientForm.labels.consentMaterial"),key:`consent-material-input-${m.value}`,items:de.value,"item-title":"text","item-value":"value",modelValue:v(le),"onUpdate:modelValue":t[14]||(t[14]=e=>D(le)?le.value=e:null)},null,8,["label","items","modelValue"]))])),_:1}),t[29]||(t[29]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(r)("patientForm.labels.consentExtendedStorage"),key:`consent-extended-input-${m.value}`,items:de.value,"item-title":"text","item-value":"value",modelValue:v(ne),"onUpdate:modelValue":t[15]||(t[15]=e=>D(ne)?ne.value=e:null)},null,8,["label","items","modelValue"]))])),_:1}),t[30]||(t[30]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(r)("patientForm.labels.consentResearch"),key:`consent-research-input-${m.value}`,items:de.value,"item-title":"text","item-value":"value",modelValue:v(oe),"onUpdate:modelValue":t[16]||(t[16]=e=>D(oe)?oe.value=e:null)},null,8,["label","items","modelValue"]))])),_:1})])),_:1})):F("",!0),t[39]||(t[39]=x()),h(s,{class:"my-1"}),t[40]||(t[40]=x()),h(o,{dense:""},{default:_((()=>[h(a,{cols:"12"},{default:_((()=>[(c(),p(i,{density:"compact",label:v(r)("patientForm.labels.requestVariantSegregation"),key:`variant-segregation-input-${m.value}`,modelValue:W.value,"onUpdate:modelValue":t[17]||(t[17]=e=>W.value=e)},null,8,["label","modelValue"]))])),_:1}),t[31]||(t[31]=x()),W.value?(c(),p(a,{key:0,cols:"12"},{default:_((()=>[(c(),p(l,{density:"compact",outlined:"",key:`variant-details-field-${m.value}`,label:v(r)("patientForm.labels.variantDetails"),modelValue:v(X),"onUpdate:modelValue":t[18]||(t[18]=e=>D(X)?X.value=e:null),hint:v(r)("patientForm.hints.variantDetails"),"persistent-hint":""},null,8,["label","modelValue","hint"]))])),_:1})):F("",!0)])),_:1})]))}},[["__scopeId","data-v-d6135464"]]);export{$ as default};
