import{_ as e}from"./index.BwhbsiFx.js";import{s as l,t as a,u as t,v as n,w as o,x as s,l as i}from"./vendor-vuetify-core.BS_X3kim.js";import{b as u,o as r,_ as d,$ as m,u as p,Z as c,H as v,x as f,d as y,c as g,a8 as b,R as V,j as x,a2 as F,N as _,a0 as h,l as D}from"./vendor-vue.MuR-ak5S.js";import"./vendor-pdf.CZcEIuwn.js";/* empty css                     */const k=e({__name:"LocaleDatePicker",props:{modelValue:{type:String,default:""},label:{type:String,default:"Birthdate"}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,n=a,o=navigator.language;function s(e){if(!e)return null;const l=new Date(e);return isNaN(l.getTime())?null:l}const i=u(s(t.modelValue));return r((()=>t.modelValue),(e=>{i.value=s(e)})),r(i,(e=>{const l=(a=e)?a.toISOString().split("T")[0]:"";var a;n("update:modelValue",l)})),(a,t)=>(m(),d(p(l),{density:"compact","prepend-icon":"","prepend-inner-icon":"$calendar",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),label:e.label,locale:p(o),dense:"",outlined:""},null,8,["modelValue","label","locale"]))}},[["__scopeId","data-v-f84af8b8"]]),N=e({__name:"PatientForm",props:{patientData:{type:Object,required:!0}},emits:["update:patientData"],setup(e,{emit:l}){const{t:r}=c(),N=u(0),$=()=>{N.value++};v((()=>{window.addEventListener("i18n-updated",$),window.addEventListener("i18n-locale-changed",$)})),f((()=>{window.removeEventListener("i18n-updated",$),window.removeEventListener("i18n-locale-changed",$)}));const U=e,S=l,w=y("patientData"),I=y("updatePersonalInfo"),j=y("getFieldErrors",(()=>({}))),q=g((()=>{const e=j("personalInfo");return e&&e.firstName?r(e.firstName):""})),C=g((()=>{const e=j("personalInfo");return e&&e.lastName?r(e.lastName):""})),G=g((()=>{const e=j("personalInfo");return e&&e.birthdate?r(e.birthdate):""})),R=g((()=>{const e=j("personalInfo");return e&&e.sex?r(e.sex):""})),E=g((()=>{const e=j("personalInfo");return e&&e.insurance?r(e.insurance):""})),H=g((()=>{const e=j("personalInfo");return e&&e.referrer?r(e.referrer):""})),O=g((()=>{const e=j("personalInfo");return e&&e.diagnosis?r(e.diagnosis):""}));function L(e,l,...a){return g({get(){if(w&&l&&w.personalInfo){const e=w.personalInfo[l];if(void 0!==e)return e}let t=U.patientData;const n=[e,...a];for(const e of n){if(null===t||"object"!=typeof t||!(e in t))return(1!==n.length||"variantSegregationRequested"!==n[0])&&"";t=t[e]}return 1===n.length&&"variantSegregationRequested"===n[0]?"boolean"==typeof t&&t:t??""},set(t){I&&l&&I({[l]:t});const n=JSON.parse(JSON.stringify(U.patientData));let o=n;const s=[e,...a];for(let e=0;e<s.length-1;e++){const l=s[e];null!==o[l]&&"object"==typeof o[l]||(o[l]={}),o=o[l]}o[s[s.length-1]]=t,S("update:patientData",n)}})}function J(...e){return g({get(){let l=U.patientData;for(const a of e){if(null===l||"object"!=typeof l||!(a in l))return(1!==e.length||"variantSegregationRequested"!==e[0])&&"";l=l[a]}return 1===e.length&&"variantSegregationRequested"===e[0]?"boolean"==typeof l&&l:l??""},set(l){const a=JSON.parse(JSON.stringify(U.patientData));let t=a;for(let n=0;n<e.length-1;n++){const l=e[n];null!==t[l]&&"object"==typeof t[l]||(t[l]={}),t=t[l]}t[e[e.length-1]]=l,S("update:patientData",a)}})}const P=L("givenName","firstName"),B=L("familyName","lastName"),M=L("birthdate","birthdate"),T=L("sex","sex"),Z=L("insurance","insurance"),z=L("physicianName","referrer"),A=J("familyHistory"),K=J("parentalConsanguinity"),Q=L("diagnosis","diagnosis"),W=J("orderingDate"),X=J("variantSegregationRequested"),Y=J("variantDetails"),ee=J("genDGConsentData","provided"),le=J("genDGConsentData","form","consentName"),ae=J("genDGConsentData","form","consentDate"),te=J("genDGConsentData","form","questionSecondaryFindings"),ne=J("genDGConsentData","form","questionMaterial"),oe=J("genDGConsentData","form","questionExtended"),se=J("genDGConsentData","form","questionResearch"),ie=g((()=>[{text:r("patientForm.options.sex.male"),value:"male"},{text:r("patientForm.options.sex.female"),value:"female"},{text:r("patientForm.options.sex.undetermined"),value:"undetermined"}])),ue=g((()=>[{text:r("patientForm.options.familyHistory.conspicuous"),value:"conspicuous"},{text:r("patientForm.options.familyHistory.inconspicuous"),value:"inconspicuous"},{text:r("patientForm.options.familyHistory.unknown"),value:"unknown"}])),re=g((()=>[{text:r("patientForm.options.consanguinity.yes"),value:"yes"},{text:r("patientForm.options.consanguinity.no"),value:"no"}])),de=g((()=>[{text:r("patientForm.options.consent.provided"),value:"provided"},{text:r("patientForm.options.consent.fill"),value:"fill"}])),me=g((()=>[{text:r("patientForm.options.yesNo.yes"),value:"yes"},{text:r("patientForm.options.yesNo.no"),value:"no"}]));return(e,l)=>(m(),b("div",null,[(m(),b("h2",{class:"text-h5 mb-4",key:`patient-title-${N.value}`},_(p(r)("patientForm.title")),1)),l[32]||(l[32]=V()),x(o,{dense:""},{default:h((()=>[x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(t,{density:"compact",outlined:"",label:p(r)("patientForm.labels.givenName"),key:`given-name-input-${N.value}`,modelValue:p(P),"onUpdate:modelValue":l[0]||(l[0]=e=>D(P)?P.value=e:null),"prepend-inner-icon":"mdi-account",error:!!q.value,"error-messages":q.value},null,8,["label","modelValue","error","error-messages"]))])),_:1}),l[19]||(l[19]=V()),x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(t,{density:"compact",outlined:"",label:p(r)("patientForm.labels.familyName"),key:`family-name-input-${N.value}`,modelValue:p(B),"onUpdate:modelValue":l[1]||(l[1]=e=>D(B)?B.value=e:null),"prepend-inner-icon":"mdi-account-group",error:!!C.value,"error-messages":C.value},null,8,["label","modelValue","error","error-messages"]))])),_:1}),l[20]||(l[20]=V()),x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(k,{modelValue:p(M),"onUpdate:modelValue":l[2]||(l[2]=e=>D(M)?M.value=e:null),label:p(r)("patientForm.labels.birthdate"),key:`birthdate-input-${N.value}`,error:!!G.value,"error-messages":G.value},null,8,["modelValue","label","error","error-messages"]))])),_:1}),l[21]||(l[21]=V()),x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(n,{density:"compact",outlined:"",label:p(r)("patientForm.labels.sex"),key:`sex-input-${N.value}`,items:ie.value,"item-title":"text","item-value":"value",modelValue:p(T),"onUpdate:modelValue":l[3]||(l[3]=e=>D(T)?T.value=e:null),"prepend-inner-icon":"mdi-gender-male-female",error:!!R.value,"error-messages":R.value},null,8,["label","items","modelValue","error","error-messages"]))])),_:1})])),_:1}),l[33]||(l[33]=V()),x(s,{class:"my-1"}),l[34]||(l[34]=V()),x(o,{dense:""},{default:h((()=>[x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(t,{density:"compact",outlined:"",label:p(r)("patientForm.labels.insurance"),key:`insurance-input-${N.value}`,modelValue:p(Z),"onUpdate:modelValue":l[4]||(l[4]=e=>D(Z)?Z.value=e:null),"prepend-inner-icon":"mdi-card-account-details-outline",error:!!E.value,"error-messages":E.value},null,8,["label","modelValue","error","error-messages"]))])),_:1}),l[22]||(l[22]=V()),x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(t,{density:"compact",outlined:"",label:p(r)("patientForm.labels.physicianName"),key:`physician-input-${N.value}`,modelValue:p(z),"onUpdate:modelValue":l[5]||(l[5]=e=>D(z)?z.value=e:null),"prepend-inner-icon":"mdi-stethoscope",error:!!H.value,"error-messages":H.value},null,8,["label","modelValue","error","error-messages"]))])),_:1})])),_:1}),l[35]||(l[35]=V()),x(s,{class:"my-1"}),l[36]||(l[36]=V()),x(o,{dense:""},{default:h((()=>[x(a,{cols:"12",sm:"4"},{default:h((()=>[(m(),d(n,{density:"compact",outlined:"",label:p(r)("patientForm.labels.familyHistory"),key:`family-history-input-${N.value}`,items:ue.value,"item-title":"text","item-value":"value",modelValue:p(A),"onUpdate:modelValue":l[6]||(l[6]=e=>D(A)?A.value=e:null),"prepend-inner-icon":"mdi-history"},null,8,["label","items","modelValue"]))])),_:1}),l[23]||(l[23]=V()),x(a,{cols:"12",sm:"4"},{default:h((()=>[(m(),d(n,{density:"compact",outlined:"",label:p(r)("patientForm.labels.parentalConsanguinity"),key:`consanguinity-input-${N.value}`,items:re.value,"item-title":"text","item-value":"value",modelValue:p(K),"onUpdate:modelValue":l[7]||(l[7]=e=>D(K)?K.value=e:null),"prepend-inner-icon":"mdi-human-male-female"},null,8,["label","items","modelValue"]))])),_:1}),l[24]||(l[24]=V()),x(a,{cols:"12",sm:"4"},{default:h((()=>[(m(),d(t,{density:"compact",outlined:"",label:p(r)("patientForm.labels.diagnosis"),key:`diagnosis-input-${N.value}`,modelValue:p(Q),"onUpdate:modelValue":l[8]||(l[8]=e=>D(Q)?Q.value=e:null),rows:"2","prepend-inner-icon":"mdi-file-document-edit-outline","persistent-hint":"",error:!!O.value,"error-messages":O.value},null,8,["label","modelValue","error","error-messages"]))])),_:1})])),_:1}),l[37]||(l[37]=V()),x(s,{class:"my-1"}),l[38]||(l[38]=V()),x(o,{dense:""},{default:h((()=>[x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(k,{modelValue:p(W),"onUpdate:modelValue":l[9]||(l[9]=e=>D(W)?W.value=e:null),label:p(r)("patientForm.labels.orderingDate"),key:`ordering-date-input-${N.value}`},null,8,["modelValue","label"]))])),_:1}),l[25]||(l[25]=V()),x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(n,{density:"compact",outlined:"",label:p(r)("patientForm.labels.consent"),key:`consent-input-${N.value}`,items:de.value,"item-title":"text","item-value":"value",modelValue:p(ee),"onUpdate:modelValue":l[10]||(l[10]=e=>D(ee)?ee.value=e:null)},null,8,["label","items","modelValue"]))])),_:1})])),_:1}),l[39]||(l[39]=V()),"fill"===p(ee)?(m(),d(o,{key:0,dense:"",class:"mt-2"},{default:h((()=>[x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(t,{density:"compact",outlined:"",label:p(r)("patientForm.labels.consentGivenBy"),key:`consent-given-by-input-${N.value}`,modelValue:p(le),"onUpdate:modelValue":l[11]||(l[11]=e=>D(le)?le.value=e:null)},null,8,["label","modelValue"]))])),_:1}),l[26]||(l[26]=V()),x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(k,{modelValue:p(ae),"onUpdate:modelValue":l[12]||(l[12]=e=>D(ae)?ae.value=e:null),label:p(r)("patientForm.labels.consentDate"),key:`consent-date-input-${N.value}`},null,8,["modelValue","label"]))])),_:1}),l[27]||(l[27]=V()),x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(n,{density:"compact",outlined:"",label:p(r)("patientForm.labels.consentSecondaryFindings"),key:`consent-secondary-input-${N.value}`,items:me.value,"item-title":"text","item-value":"value",modelValue:p(te),"onUpdate:modelValue":l[13]||(l[13]=e=>D(te)?te.value=e:null)},null,8,["label","items","modelValue"]))])),_:1}),l[28]||(l[28]=V()),x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(n,{density:"compact",outlined:"",label:p(r)("patientForm.labels.consentMaterial"),key:`consent-material-input-${N.value}`,items:me.value,"item-title":"text","item-value":"value",modelValue:p(ne),"onUpdate:modelValue":l[14]||(l[14]=e=>D(ne)?ne.value=e:null)},null,8,["label","items","modelValue"]))])),_:1}),l[29]||(l[29]=V()),x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(n,{density:"compact",outlined:"",label:p(r)("patientForm.labels.consentExtendedStorage"),key:`consent-extended-input-${N.value}`,items:me.value,"item-title":"text","item-value":"value",modelValue:p(oe),"onUpdate:modelValue":l[15]||(l[15]=e=>D(oe)?oe.value=e:null)},null,8,["label","items","modelValue"]))])),_:1}),l[30]||(l[30]=V()),x(a,{cols:"12",sm:"6"},{default:h((()=>[(m(),d(n,{density:"compact",outlined:"",label:p(r)("patientForm.labels.consentResearch"),key:`consent-research-input-${N.value}`,items:me.value,"item-title":"text","item-value":"value",modelValue:p(se),"onUpdate:modelValue":l[16]||(l[16]=e=>D(se)?se.value=e:null)},null,8,["label","items","modelValue"]))])),_:1})])),_:1})):F("",!0),l[40]||(l[40]=V()),x(s,{class:"my-1"}),l[41]||(l[41]=V()),x(o,{dense:""},{default:h((()=>[x(a,{cols:"12"},{default:h((()=>[(m(),d(i,{density:"compact",label:p(r)("patientForm.labels.requestVariantSegregation"),key:`variant-segregation-input-${N.value}`,modelValue:p(X),"onUpdate:modelValue":l[17]||(l[17]=e=>D(X)?X.value=e:null)},null,8,["label","modelValue"]))])),_:1}),l[31]||(l[31]=V()),p(X)?(m(),d(a,{key:0,cols:"12"},{default:h((()=>[(m(),d(t,{density:"compact",outlined:"",key:`variant-details-field-${N.value}`,label:p(r)("patientForm.labels.variantDetails"),modelValue:p(Y),"onUpdate:modelValue":l[18]||(l[18]=e=>D(Y)?Y.value=e:null),hint:p(r)("patientForm.hints.variantDetails"),"persistent-hint":""},null,8,["label","modelValue","hint"]))])),_:1})):F("",!0)])),_:1})]))}},[["__scopeId","data-v-910c7da5"]]);export{N as default};
