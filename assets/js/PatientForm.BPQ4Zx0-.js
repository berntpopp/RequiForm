import{_ as e}from"./index.CgV39vRC.js";import{s as t,t as a,u as l,v as n,w as o,x as s,l as i}from"./vendor-vuetify-core.BS_X3kim.js";import{b as r,o as u,H as d,K as m,_ as p,$ as c,u as v,Z as f,x as y,d as b,c as g,a8 as V,R as h,j as x,a2 as F,N as _,a0 as D,l as k}from"./vendor-vue.MuR-ak5S.js";import"./vendor-pdf.CZcEIuwn.js";/* empty css                     */const $=e({__name:"LocaleDatePicker",props:{modelValue:{type:String,default:""},label:{type:String,default:"Birthdate"},error:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:""}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,n=a,o=navigator.language;function s(e){if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t}const i=r(s(l.modelValue));u((()=>l.modelValue),(e=>{i.value=s(e)})),u(i,(e=>{const t=(a=e)?a.toISOString().split("T")[0]:"";var a;n("update:modelValue",t)}));const f=r(null);function y(){setTimeout((()=>{var e;const t=null==(e=f.value)?void 0:e.$el;t&&t.querySelectorAll(".v-field").forEach((e=>{e.hasAttribute("aria-selected")&&e.removeAttribute("aria-selected"),e.hasAttribute("aria-haspopup")&&"listbox"===e.getAttribute("aria-haspopup")&&e.setAttribute("aria-haspopup","dialog"),["aria-autocomplete","aria-multiselectable"].forEach((t=>{e.hasAttribute(t)&&e.removeAttribute(t)}))}))}),100)}return d((()=>{y();const e=new MutationObserver((()=>{y()}));setTimeout((()=>{var t;(null==(t=f.value)?void 0:t.$el)&&e.observe(f.value.$el,{subtree:!0,attributes:!0,attributeFilter:["aria-selected","aria-haspopup"]})}),200)})),m(y),(a,l)=>(c(),p(v(t),{ref_key:"dateInput",ref:f,density:"compact","prepend-icon":"","prepend-inner-icon":"$calendar",modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),label:e.label,locale:v(o),dense:"",outlined:"",error:e.error,"error-messages":e.errorMessages},null,8,["modelValue","label","locale","error","error-messages"]))}},[["__scopeId","data-v-4e8304b0"]]),N=e({__name:"PatientForm",props:{patientData:{type:Object,required:!0}},emits:["update:patientData"],setup(e,{emit:t}){const{t:u}=f(),m=r(0),N=()=>{m.value++};d((()=>{window.addEventListener("i18n-updated",N),window.addEventListener("i18n-locale-changed",N)})),y((()=>{window.removeEventListener("i18n-updated",N),window.removeEventListener("i18n-locale-changed",N)}));const U=e,S=t,w=b("patientData"),I=b("updatePersonalInfo"),q=b("getFieldErrors",(()=>({}))),j=g((()=>{const e=q("personalInfo");return e&&e.firstName?u(e.firstName):""})),A=g((()=>{const e=q("personalInfo");return e&&e.lastName?u(e.lastName):""})),C=g((()=>{const e=q("personalInfo");return e&&e.birthdate?u(e.birthdate):""})),E=g((()=>{const e=q("personalInfo");return e&&e.sex?u(e.sex):""})),G=g((()=>{const e=q("personalInfo");return e&&e.insurance?u(e.insurance):""})),R=g((()=>{const e=q("personalInfo");return e&&e.referrer?u(e.referrer):""})),O=g((()=>{const e=q("personalInfo");return e&&e.diagnosis?u(e.diagnosis):""}));function H(e,t,...a){return g({get(){if(w&&t&&w.personalInfo){const e=w.personalInfo[t];if(void 0!==e)return e}let l=U.patientData;const n=[e,...a];for(const e of n){if(null===l||"object"!=typeof l||!(e in l))return(1!==n.length||"variantSegregationRequested"!==n[0])&&"";l=l[e]}return 1===n.length&&"variantSegregationRequested"===n[0]?"boolean"==typeof l&&l:l??""},set(l){I&&t&&I({[t]:l});const n=JSON.parse(JSON.stringify(U.patientData));let o=n;const s=[e,...a];for(let e=0;e<s.length-1;e++){const t=s[e];null!==o[t]&&"object"==typeof o[t]||(o[t]={}),o=o[t]}o[s[s.length-1]]=l,S("update:patientData",n)}})}function L(...e){return g({get(){let t=U.patientData;for(const a of e){if(null===t||"object"!=typeof t||!(a in t))return(1!==e.length||"variantSegregationRequested"!==e[0])&&"";t=t[a]}return 1===e.length&&"variantSegregationRequested"===e[0]?"boolean"==typeof t&&t:t??""},set(t){const a=JSON.parse(JSON.stringify(U.patientData));let l=a;for(let n=0;n<e.length-1;n++){const t=e[n];null!==l[t]&&"object"==typeof l[t]||(l[t]={}),l=l[t]}l[e[e.length-1]]=t,S("update:patientData",a)}})}const M=H("givenName","firstName"),J=H("familyName","lastName"),T=H("birthdate","birthdate"),B=H("sex","sex"),P=H("insurance","insurance"),K=H("physicianName","referrer"),Z=L("familyHistory"),z=L("parentalConsanguinity"),Q=H("diagnosis","diagnosis"),W=L("orderingDate"),X=L("variantSegregationRequested"),Y=L("variantDetails"),ee=L("genDGConsentData","provided"),te=L("genDGConsentData","form","consentName"),ae=L("genDGConsentData","form","consentDate"),le=L("genDGConsentData","form","questionSecondaryFindings"),ne=L("genDGConsentData","form","questionMaterial"),oe=L("genDGConsentData","form","questionExtended"),se=L("genDGConsentData","form","questionResearch"),ie=g((()=>[{text:u("patientForm.options.sex.male"),value:"male"},{text:u("patientForm.options.sex.female"),value:"female"},{text:u("patientForm.options.sex.undetermined"),value:"undetermined"}])),re=g((()=>[{text:u("patientForm.options.familyHistory.conspicuous"),value:"conspicuous"},{text:u("patientForm.options.familyHistory.inconspicuous"),value:"inconspicuous"},{text:u("patientForm.options.familyHistory.unknown"),value:"unknown"}])),ue=g((()=>[{text:u("patientForm.options.consanguinity.yes"),value:"yes"},{text:u("patientForm.options.consanguinity.no"),value:"no"}])),de=g((()=>[{text:u("patientForm.options.consent.provided"),value:"provided"},{text:u("patientForm.options.consent.fill"),value:"fill"}])),me=g((()=>[{text:u("patientForm.options.yesNo.yes"),value:"yes"},{text:u("patientForm.options.yesNo.no"),value:"no"}]));return(e,t)=>(c(),V("div",null,[(c(),V("h2",{class:"text-h5 mb-4",key:`patient-title-${m.value}`},_(v(u)("patientForm.title")),1)),t[32]||(t[32]=h()),x(o,{dense:""},{default:D((()=>[x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p(l,{density:"compact",outlined:"",label:v(u)("patientForm.labels.givenName"),key:`given-name-input-${m.value}`,modelValue:v(M),"onUpdate:modelValue":t[0]||(t[0]=e=>k(M)?M.value=e:null),"prepend-inner-icon":"mdi-account",error:!!j.value,"error-messages":j.value},null,8,["label","modelValue","error","error-messages"]))])),_:1}),t[19]||(t[19]=h()),x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p(l,{density:"compact",outlined:"",label:v(u)("patientForm.labels.familyName"),key:`family-name-input-${m.value}`,modelValue:v(J),"onUpdate:modelValue":t[1]||(t[1]=e=>k(J)?J.value=e:null),"prepend-inner-icon":"mdi-account-group",error:!!A.value,"error-messages":A.value},null,8,["label","modelValue","error","error-messages"]))])),_:1}),t[20]||(t[20]=h()),x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p($,{modelValue:v(T),"onUpdate:modelValue":t[2]||(t[2]=e=>k(T)?T.value=e:null),label:v(u)("patientForm.labels.birthdate"),key:`birthdate-input-${m.value}`,error:!!C.value,"error-messages":C.value},null,8,["modelValue","label","error","error-messages"]))])),_:1}),t[21]||(t[21]=h()),x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.sex"),key:`sex-input-${m.value}`,items:ie.value,"item-title":"text","item-value":"value",modelValue:v(B),"onUpdate:modelValue":t[3]||(t[3]=e=>k(B)?B.value=e:null),"prepend-inner-icon":"mdi-gender-male-female",error:!!E.value,"error-messages":E.value},null,8,["label","items","modelValue","error","error-messages"]))])),_:1})])),_:1}),t[33]||(t[33]=h()),x(s,{class:"my-1"}),t[34]||(t[34]=h()),x(o,{dense:""},{default:D((()=>[x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p(l,{density:"compact",outlined:"",label:v(u)("patientForm.labels.insurance"),key:`insurance-input-${m.value}`,modelValue:v(P),"onUpdate:modelValue":t[4]||(t[4]=e=>k(P)?P.value=e:null),"prepend-inner-icon":"mdi-card-account-details-outline",error:!!G.value,"error-messages":G.value},null,8,["label","modelValue","error","error-messages"]))])),_:1}),t[22]||(t[22]=h()),x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p(l,{density:"compact",outlined:"",label:v(u)("patientForm.labels.physicianName"),key:`physician-input-${m.value}`,modelValue:v(K),"onUpdate:modelValue":t[5]||(t[5]=e=>k(K)?K.value=e:null),"prepend-inner-icon":"mdi-stethoscope",error:!!R.value,"error-messages":R.value},null,8,["label","modelValue","error","error-messages"]))])),_:1})])),_:1}),t[35]||(t[35]=h()),x(s,{class:"my-1"}),t[36]||(t[36]=h()),x(o,{dense:""},{default:D((()=>[x(a,{cols:"12",sm:"4"},{default:D((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.familyHistory"),key:`family-history-input-${m.value}`,items:re.value,"item-title":"text","item-value":"value",modelValue:v(Z),"onUpdate:modelValue":t[6]||(t[6]=e=>k(Z)?Z.value=e:null),"prepend-inner-icon":"mdi-history"},null,8,["label","items","modelValue"]))])),_:1}),t[23]||(t[23]=h()),x(a,{cols:"12",sm:"4"},{default:D((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.parentalConsanguinity"),key:`consanguinity-input-${m.value}`,items:ue.value,"item-title":"text","item-value":"value",modelValue:v(z),"onUpdate:modelValue":t[7]||(t[7]=e=>k(z)?z.value=e:null),"prepend-inner-icon":"mdi-human-male-female"},null,8,["label","items","modelValue"]))])),_:1}),t[24]||(t[24]=h()),x(a,{cols:"12",sm:"4"},{default:D((()=>[(c(),p(l,{density:"compact",outlined:"",label:v(u)("patientForm.labels.diagnosis"),key:`diagnosis-input-${m.value}`,modelValue:v(Q),"onUpdate:modelValue":t[8]||(t[8]=e=>k(Q)?Q.value=e:null),rows:"2","prepend-inner-icon":"mdi-file-document-edit-outline","persistent-hint":"",error:!!O.value,"error-messages":O.value},null,8,["label","modelValue","error","error-messages"]))])),_:1})])),_:1}),t[37]||(t[37]=h()),x(s,{class:"my-1"}),t[38]||(t[38]=h()),x(o,{dense:""},{default:D((()=>[x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p($,{modelValue:v(W),"onUpdate:modelValue":t[9]||(t[9]=e=>k(W)?W.value=e:null),label:v(u)("patientForm.labels.orderingDate"),key:`ordering-date-input-${m.value}`},null,8,["modelValue","label"]))])),_:1}),t[25]||(t[25]=h()),x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.consent"),key:`consent-input-${m.value}`,items:de.value,"item-title":"text","item-value":"value",modelValue:v(ee),"onUpdate:modelValue":t[10]||(t[10]=e=>k(ee)?ee.value=e:null)},null,8,["label","items","modelValue"]))])),_:1})])),_:1}),t[39]||(t[39]=h()),"fill"===v(ee)?(c(),p(o,{key:0,dense:"",class:"mt-2"},{default:D((()=>[x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p(l,{density:"compact",outlined:"",label:v(u)("patientForm.labels.consentGivenBy"),key:`consent-given-by-input-${m.value}`,modelValue:v(te),"onUpdate:modelValue":t[11]||(t[11]=e=>k(te)?te.value=e:null)},null,8,["label","modelValue"]))])),_:1}),t[26]||(t[26]=h()),x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p($,{modelValue:v(ae),"onUpdate:modelValue":t[12]||(t[12]=e=>k(ae)?ae.value=e:null),label:v(u)("patientForm.labels.consentDate"),key:`consent-date-input-${m.value}`},null,8,["modelValue","label"]))])),_:1}),t[27]||(t[27]=h()),x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.consentSecondaryFindings"),key:`consent-secondary-input-${m.value}`,items:me.value,"item-title":"text","item-value":"value",modelValue:v(le),"onUpdate:modelValue":t[13]||(t[13]=e=>k(le)?le.value=e:null)},null,8,["label","items","modelValue"]))])),_:1}),t[28]||(t[28]=h()),x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.consentMaterial"),key:`consent-material-input-${m.value}`,items:me.value,"item-title":"text","item-value":"value",modelValue:v(ne),"onUpdate:modelValue":t[14]||(t[14]=e=>k(ne)?ne.value=e:null)},null,8,["label","items","modelValue"]))])),_:1}),t[29]||(t[29]=h()),x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.consentExtendedStorage"),key:`consent-extended-input-${m.value}`,items:me.value,"item-title":"text","item-value":"value",modelValue:v(oe),"onUpdate:modelValue":t[15]||(t[15]=e=>k(oe)?oe.value=e:null)},null,8,["label","items","modelValue"]))])),_:1}),t[30]||(t[30]=h()),x(a,{cols:"12",sm:"6"},{default:D((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.consentResearch"),key:`consent-research-input-${m.value}`,items:me.value,"item-title":"text","item-value":"value",modelValue:v(se),"onUpdate:modelValue":t[16]||(t[16]=e=>k(se)?se.value=e:null)},null,8,["label","items","modelValue"]))])),_:1})])),_:1})):F("",!0),t[40]||(t[40]=h()),x(s,{class:"my-1"}),t[41]||(t[41]=h()),x(o,{dense:""},{default:D((()=>[x(a,{cols:"12"},{default:D((()=>[(c(),p(i,{density:"compact",label:v(u)("patientForm.labels.requestVariantSegregation"),key:`variant-segregation-input-${m.value}`,modelValue:v(X),"onUpdate:modelValue":t[17]||(t[17]=e=>k(X)?X.value=e:null)},null,8,["label","modelValue"]))])),_:1}),t[31]||(t[31]=h()),v(X)?(c(),p(a,{key:0,cols:"12"},{default:D((()=>[(c(),p(l,{density:"compact",outlined:"",key:`variant-details-field-${m.value}`,label:v(u)("patientForm.labels.variantDetails"),modelValue:v(Y),"onUpdate:modelValue":t[18]||(t[18]=e=>k(Y)?Y.value=e:null),hint:v(u)("patientForm.hints.variantDetails"),"persistent-hint":""},null,8,["label","modelValue","hint"]))])),_:1})):F("",!0)])),_:1})]))}},[["__scopeId","data-v-910c7da5"]]);export{N as default};
