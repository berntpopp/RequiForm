import{g as Ne,p as Ie,u as we,a as Se,b as Ue,c as $e,s as Ce,r as Z,d as D,w as Pe,e as Ee,V as fe,f as ve,o as ge,h as C,i as o,F as Ae,j as Oe,m as de,k as qe,l as Ge,n as Re,q as Me,t as Be,_ as be,v as ce,x as Ve,y as He,z as p,A as m,B as a,C as Le,D as je,E as me,G as Te,H as d,I as ye,J as s,K as y,L as b,M as E,N as q,O as T,P as Je,Q as ze}from"./index._YLKWksp.js";const Qe=Ie({hideActions:Boolean,location:{type:String,default:"bottom start"},...Me(),...Re(),...Ge({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...ge(Be({hideHeader:!0,showAdjacentMonths:!0}),["active","location","rounded"])},"VDateInput"),We=Ne()({name:"VDateInput",props:Qe(),emits:{"update:modelValue":i=>!0},setup(i,R){let{slots:n}=R;const{t:u}=we(),c=Se(),{isFocused:I,focus:A,blur:U}=Ue(i),k=$e(i,"modelValue",i.multiple?[]:null,r=>Array.isArray(r)?r.map(g=>c.toJsDate(g)):r&&c.toJsDate(r),r=>Array.isArray(r)?r.map(g=>c.date(g)):r&&c.date(r)),f=Ce(!1),v=Z(),w=D(()=>{const r=Pe(k.value);if(!r.length)return null;if(i.multiple===!0)return u("$vuetify.datePicker.itemsSelected",r.length);if(i.multiple==="range"){const g=r[0],N=r[r.length-1];return c.isValid(g)&&c.isValid(N)?`${c.format(c.date(g),"keyboardDate")} - ${c.format(c.date(N),"keyboardDate")}`:""}return c.isValid(k.value)?c.format(c.date(k.value),"keyboardDate"):""}),F=D(()=>!i.disabled&&!i.readonly);function O(r){if(r.key!=="Enter")return;if(!f.value||!I.value){f.value=!0;return}const g=r.target;k.value=g.value}function M(r){r.preventDefault(),r.stopPropagation(),f.value=!0}function J(){f.value=!1}function z(r){r==null&&(k.value=null)}return Ee(()=>{const r=fe.filterProps(i),g=ve.filterProps(ge(i,["active","location","rounded"])),N=C.filterProps(i);return o(C,de({ref:v},N,{class:i.class,style:i.style,modelValue:w.value,onKeydown:F.value?O:void 0,focused:f.value||I.value,onFocus:A,onBlur:U,"onClick:control":F.value?M:void 0,"onClick:prepend":F.value?M:void 0,"onUpdate:modelValue":z}),{...n,default:()=>o(Ae,null,[o(Oe,{modelValue:f.value,"onUpdate:modelValue":$=>f.value=$,activator:"parent","min-width":"0",eager:I.value,location:i.location,closeOnContentClick:!1,openOnClick:!1},{default:()=>[o(fe,de(r,{modelValue:k.value,"onUpdate:modelValue":$=>k.value=$,onSave:J,onCancel:()=>f.value=!1}),{default:$=>{let{actions:B,model:G,save:H,cancel:L,isPristine:j}=$;return o(ve,de(g,{modelValue:i.hideActions?k.value:G.value,"onUpdate:modelValue":P=>{i.hideActions?(k.value=P,i.multiple||(f.value=!1)):G.value=P},onMousedown:P=>P.preventDefault()}),{actions:i.hideActions?void 0:()=>n.actions?.({save:H,cancel:L,isPristine:j})??B()})}})]}),n.default?.()])})}),qe({},v)}}),Xe={__name:"LocaleDatePicker",props:{modelValue:{type:String,default:""},label:{type:String,default:"Birthdate"},error:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:""}},emits:["update:modelValue"],setup(i,{emit:R}){const n=i,u=R,c=navigator.language;function I(v){if(!v)return null;const w=new Date(v);return isNaN(w.getTime())?null:w}function A(v){return v?v.toISOString().split("T")[0]:""}const U=Z(I(n.modelValue));ce(()=>n.modelValue,v=>{U.value=I(v)}),ce(U,v=>{const w=A(v);u("update:modelValue",w)});const k=Z(null);function f(){setTimeout(()=>{const v=k.value?.$el;if(!v)return;v.querySelectorAll(".v-field").forEach(F=>{F.hasAttribute("aria-selected")&&F.removeAttribute("aria-selected"),F.hasAttribute("aria-haspopup")&&F.getAttribute("aria-haspopup")==="listbox"&&F.setAttribute("aria-haspopup","dialog"),["aria-autocomplete","aria-multiselectable"].forEach(O=>{F.hasAttribute(O)&&F.removeAttribute(O)})})},100)}return Ve(()=>{f();const v=new MutationObserver(()=>{f()});setTimeout(()=>{k.value?.$el&&v.observe(k.value.$el,{subtree:!0,attributes:!0,attributeFilter:["aria-selected","aria-haspopup"]})},200)}),He(f),(v,w)=>(m(),p(a(We),{ref_key:"dateInput",ref:k,density:"compact","prepend-icon":"","prepend-inner-icon":"$calendar",modelValue:U.value,"onUpdate:modelValue":w[0]||(w[0]=F=>U.value=F),label:i.label,locale:a(c),dense:"",outlined:"",error:i.error,"error-messages":i.errorMessages},null,8,["modelValue","label","locale","error","error-messages"]))}},pe=be(Xe,[["__scopeId","data-v-4e8304b0"]]),Ye={__name:"PatientForm",props:{patientData:{type:Object,required:!0},pdfConfig:{type:Object,required:!1,default:()=>({})}},emits:["update:modelValue","update:patientData"],setup(i,{emit:R}){const{t:n}=Le(),u=Z(0),c=()=>{u.value++};Ve(()=>{window.addEventListener("i18n-updated",c),window.addEventListener("i18n-locale-changed",c)}),je(()=>{window.removeEventListener("i18n-updated",c),window.removeEventListener("i18n-locale-changed",c)});const I=i,A=R,U=me("patientData"),k=me("updatePersonalInfo"),f=me("getFieldErrors",()=>({})),v=D(()=>{const t=f("personalInfo");return t&&t.firstName?n(t.firstName):""}),w=D(()=>{const t=f("personalInfo");return t&&t.lastName?n(t.lastName):""}),F=D(()=>{const t=f("personalInfo");return t&&t.birthdate?n(t.birthdate):""}),O=D(()=>{const t=f("personalInfo");return t&&t.sex?n(t.sex):""}),M=D(()=>{const t=f("personalInfo");return t&&t.insurance?n(t.insurance):""}),J=D(()=>{const t=f("personalInfo");return t&&t.comments?n(t.comments):""}),z=D(()=>{const t=f("personalInfo");return t&&t.referrer?n(t.referrer):""}),r=D(()=>{const t=f("personalInfo");return t&&t.diagnosis?n(t.diagnosis):""});function g(t,e,...l){return D({get(){if(U&&e&&U.personalInfo){const x=U.personalInfo[e];if(x!==void 0)return x}let V=I.patientData;const S=[t,...l];for(const x of S){if(V===null||typeof V!="object"||!(x in V))return S.length===1&&S[0]==="variantSegregationRequested"?!1:"";V=V[x]}return S.length===1&&S[0]==="variantSegregationRequested"?typeof V=="boolean"?V:!1:V??""},set(V){k&&e&&k({[e]:V});const S=JSON.parse(JSON.stringify(I.patientData));let x=S;const X=[t,...l];for(let ue=0;ue<X.length-1;ue++){const Y=X[ue];(x[Y]===null||typeof x[Y]!="object")&&(x[Y]={}),x=x[Y]}x[X[X.length-1]]=V,A("update:patientData",S)}})}function N(...t){return D({get(){let e=I.patientData;for(const l of t){if(e===null||typeof e!="object"||!(l in e))return t.length===1&&t[0]==="variantSegregationRequested"?!1:"";e=e[l]}return t.length===1&&t[0]==="variantSegregationRequested"?typeof e=="boolean"?e:!1:e??""},set(e){const l=JSON.parse(JSON.stringify(I.patientData));let V=l;for(let S=0;S<t.length-1;S++){const x=t[S];(V[x]===null||typeof V[x]!="object")&&(V[x]={}),V=V[x]}V[t[t.length-1]]=e,A("update:patientData",l)}})}const $=g("givenName","firstName"),B=g("familyName","lastName"),G=g("birthdate","birthdate"),H=g("sex","sex"),L=g("insurance","insurance"),j=g("physicianName","referrer"),P=N("familyHistory"),K=N("parentalConsanguinity"),h=g("diagnosis","diagnosis"),_=g("comments","comments"),ee=N("orderingDate"),te=D({get(){const t=I.patientData.variantSegregationRequested;return typeof t=="boolean"?t:!1},set(t){const e={...I.patientData};e.variantSegregationRequested=t,A("update:patientData",e)}}),ne=N("variantDetails"),Q=N("genDGConsentData","provided"),le=N("genDGConsentData","form","consentName"),ae=N("genDGConsentData","form","consentDate"),oe=N("genDGConsentData","form","questionSecondaryFindings"),re=N("genDGConsentData","form","questionMaterial"),se=N("genDGConsentData","form","questionExtended"),ie=N("genDGConsentData","form","questionResearch"),De=D(()=>[{text:n("patientForm.options.sex.male"),value:"male"},{text:n("patientForm.options.sex.female"),value:"female"},{text:n("patientForm.options.sex.undetermined"),value:"undetermined"}]),ke=D(()=>[{text:n("patientForm.options.familyHistory.conspicuous"),value:"conspicuous"},{text:n("patientForm.options.familyHistory.inconspicuous"),value:"inconspicuous"},{text:n("patientForm.options.familyHistory.unknown"),value:"unknown"}]),xe=D(()=>[{text:n("patientForm.options.consanguinity.yes"),value:"yes"},{text:n("patientForm.options.consanguinity.no"),value:"no"}]),Fe=D(()=>[{text:n("patientForm.options.consent.provided"),value:"provided"},{text:n("patientForm.options.consent.fill"),value:"fill"}]),W=D(()=>[{text:n("patientForm.options.yesNo.yes"),value:"yes"},{text:n("patientForm.options.yesNo.no"),value:"no"}]);return(t,e)=>(m(),Te("div",null,[o(q,{dense:""},{default:s(()=>[o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(C,{density:"compact",outlined:"",label:a(n)("patientForm.labels.givenName"),key:`given-name-input-${u.value}`,modelValue:a($),"onUpdate:modelValue":e[0]||(e[0]=l=>b($)?$.value=l:null),"prepend-inner-icon":"mdi-account",error:!!v.value,"error-messages":v.value},null,8,["label","modelValue","error","error-messages"]))]),_:1}),e[20]||(e[20]=d()),o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(C,{density:"compact",outlined:"",label:a(n)("patientForm.labels.familyName"),key:`family-name-input-${u.value}`,modelValue:a(B),"onUpdate:modelValue":e[1]||(e[1]=l=>b(B)?B.value=l:null),"prepend-inner-icon":"mdi-account-group",error:!!w.value,"error-messages":w.value},null,8,["label","modelValue","error","error-messages"]))]),_:1}),e[21]||(e[21]=d()),o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(pe,{modelValue:a(G),"onUpdate:modelValue":e[2]||(e[2]=l=>b(G)?G.value=l:null),label:a(n)("patientForm.labels.birthdate"),key:`birthdate-input-${u.value}`,error:!!F.value,"error-messages":F.value},null,8,["modelValue","label","error","error-messages"]))]),_:1}),e[22]||(e[22]=d()),o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(E,{density:"compact",outlined:"",label:a(n)("patientForm.labels.sex"),key:`sex-input-${u.value}`,items:De.value,"item-title":"text","item-value":"value",modelValue:a(H),"onUpdate:modelValue":e[3]||(e[3]=l=>b(H)?H.value=l:null),"prepend-inner-icon":"mdi-gender-male-female",error:!!O.value,"error-messages":O.value},null,8,["label","items","modelValue","error","error-messages"]))]),_:1})]),_:1}),e[33]||(e[33]=d()),o(T,{class:"my-1"}),e[34]||(e[34]=d()),o(q,{dense:""},{default:s(()=>[o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(C,{density:"compact",outlined:"",label:a(n)("patientForm.labels.insurance"),key:`insurance-input-${u.value}`,modelValue:a(L),"onUpdate:modelValue":e[4]||(e[4]=l=>b(L)?L.value=l:null),"prepend-inner-icon":"mdi-card-account-details-outline",error:!!M.value,"error-messages":M.value},null,8,["label","modelValue","error","error-messages"]))]),_:1}),e[23]||(e[23]=d()),o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(C,{density:"compact",outlined:"",label:a(n)("patientForm.labels.physicianName"),key:`physician-input-${u.value}`,modelValue:a(j),"onUpdate:modelValue":e[5]||(e[5]=l=>b(j)?j.value=l:null),"prepend-inner-icon":"mdi-stethoscope",error:!!z.value,"error-messages":z.value},null,8,["label","modelValue","error","error-messages"]))]),_:1})]),_:1}),e[35]||(e[35]=d()),o(T,{class:"my-1"}),e[36]||(e[36]=d()),o(q,{dense:""},{default:s(()=>[o(y,{cols:"12",sm:"4"},{default:s(()=>[(m(),p(E,{density:"compact",outlined:"",label:a(n)("patientForm.labels.familyHistory"),key:`family-history-input-${u.value}`,items:ke.value,"item-title":"text","item-value":"value",modelValue:a(P),"onUpdate:modelValue":e[6]||(e[6]=l=>b(P)?P.value=l:null),"prepend-inner-icon":"mdi-history"},null,8,["label","items","modelValue"]))]),_:1}),e[24]||(e[24]=d()),o(y,{cols:"12",sm:"4"},{default:s(()=>[(m(),p(E,{density:"compact",outlined:"",label:a(n)("patientForm.labels.parentalConsanguinity"),key:`consanguinity-input-${u.value}`,items:xe.value,"item-title":"text","item-value":"value",modelValue:a(K),"onUpdate:modelValue":e[7]||(e[7]=l=>b(K)?K.value=l:null),"prepend-inner-icon":"mdi-human-male-female"},null,8,["label","items","modelValue"]))]),_:1}),e[25]||(e[25]=d()),o(y,{cols:"12",sm:"4"},{default:s(()=>[(m(),p(C,{density:"compact",outlined:"",label:a(n)("patientForm.labels.diagnosis"),key:`diagnosis-input-${u.value}`,modelValue:a(h),"onUpdate:modelValue":e[8]||(e[8]=l=>b(h)?h.value=l:null),rows:"2","prepend-inner-icon":"mdi-file-document-edit-outline","persistent-hint":"",error:!!r.value,"error-messages":r.value},null,8,["label","modelValue","error","error-messages"]))]),_:1})]),_:1}),e[37]||(e[37]=d()),o(T,{class:"my-1"}),e[38]||(e[38]=d()),o(q,{dense:""},{default:s(()=>[o(y,{cols:"12"},{default:s(()=>[(m(),p(Je,{density:"compact",outlined:"",label:a(n)("patientForm.labels.comments"),key:`comments-input-${u.value}`,modelValue:a(_),"onUpdate:modelValue":e[9]||(e[9]=l=>b(_)?_.value=l:null),rows:"3","auto-grow":"","prepend-inner-icon":"mdi-comment-text-outline",error:!!J.value,"error-messages":J.value},null,8,["label","modelValue","error","error-messages"]))]),_:1})]),_:1}),e[39]||(e[39]=d()),o(T,{class:"my-1"}),e[40]||(e[40]=d()),o(q,{dense:""},{default:s(()=>[o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(pe,{modelValue:a(ee),"onUpdate:modelValue":e[10]||(e[10]=l=>b(ee)?ee.value=l:null),label:a(n)("patientForm.labels.orderingDate"),key:`ordering-date-input-${u.value}`},null,8,["modelValue","label"]))]),_:1}),e[26]||(e[26]=d()),o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(E,{density:"compact",outlined:"",label:a(n)("patientForm.labels.consent"),key:`consent-input-${u.value}`,items:Fe.value,"item-title":"text","item-value":"value",modelValue:a(Q),"onUpdate:modelValue":e[11]||(e[11]=l=>b(Q)?Q.value=l:null)},null,8,["label","items","modelValue"]))]),_:1})]),_:1}),e[41]||(e[41]=d()),a(Q)==="fill"?(m(),p(q,{key:0,dense:"",class:"mt-2"},{default:s(()=>[o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(C,{density:"compact",outlined:"",label:a(n)("patientForm.labels.consentGivenBy"),key:`consent-given-by-input-${u.value}`,modelValue:a(le),"onUpdate:modelValue":e[12]||(e[12]=l=>b(le)?le.value=l:null)},null,8,["label","modelValue"]))]),_:1}),e[27]||(e[27]=d()),o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(pe,{modelValue:a(ae),"onUpdate:modelValue":e[13]||(e[13]=l=>b(ae)?ae.value=l:null),label:a(n)("patientForm.labels.consentDate"),key:`consent-date-input-${u.value}`},null,8,["modelValue","label"]))]),_:1}),e[28]||(e[28]=d()),o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(E,{density:"compact",outlined:"",label:a(n)("patientForm.labels.consentSecondaryFindings"),key:`consent-secondary-input-${u.value}`,items:W.value,"item-title":"text","item-value":"value",modelValue:a(oe),"onUpdate:modelValue":e[14]||(e[14]=l=>b(oe)?oe.value=l:null)},null,8,["label","items","modelValue"]))]),_:1}),e[29]||(e[29]=d()),o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(E,{density:"compact",outlined:"",label:a(n)("patientForm.labels.consentMaterial"),key:`consent-material-input-${u.value}`,items:W.value,"item-title":"text","item-value":"value",modelValue:a(re),"onUpdate:modelValue":e[15]||(e[15]=l=>b(re)?re.value=l:null)},null,8,["label","items","modelValue"]))]),_:1}),e[30]||(e[30]=d()),o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(E,{density:"compact",outlined:"",label:a(n)("patientForm.labels.consentExtendedStorage"),key:`consent-extended-input-${u.value}`,items:W.value,"item-title":"text","item-value":"value",modelValue:a(se),"onUpdate:modelValue":e[16]||(e[16]=l=>b(se)?se.value=l:null)},null,8,["label","items","modelValue"]))]),_:1}),e[31]||(e[31]=d()),o(y,{cols:"12",sm:"6"},{default:s(()=>[(m(),p(E,{density:"compact",outlined:"",label:a(n)("patientForm.labels.consentResearch"),key:`consent-research-input-${u.value}`,items:W.value,"item-title":"text","item-value":"value",modelValue:a(ie),"onUpdate:modelValue":e[17]||(e[17]=l=>b(ie)?ie.value=l:null)},null,8,["label","items","modelValue"]))]),_:1})]),_:1})):ye("",!0),e[42]||(e[42]=d()),o(T,{class:"my-1"}),e[43]||(e[43]=d()),o(q,{dense:""},{default:s(()=>[o(y,{cols:"12"},{default:s(()=>[(m(),p(ze,{density:"compact",label:a(n)("patientForm.labels.requestVariantSegregation"),key:`variant-segregation-input-${u.value}`,modelValue:te.value,"onUpdate:modelValue":e[18]||(e[18]=l=>te.value=l)},null,8,["label","modelValue"]))]),_:1}),e[32]||(e[32]=d()),te.value?(m(),p(y,{key:0,cols:"12"},{default:s(()=>[(m(),p(C,{density:"compact",outlined:"",key:`variant-details-field-${u.value}`,label:a(n)("patientForm.labels.variantDetails"),modelValue:a(ne),"onUpdate:modelValue":e[19]||(e[19]=l=>b(ne)?ne.value=l:null),hint:a(n)("patientForm.hints.variantDetails"),"persistent-hint":""},null,8,["label","modelValue","hint"]))]),_:1})):ye("",!0)]),_:1})]))}},Ke=be(Ye,[["__scopeId","data-v-8888356c"]]);export{Ke as default};
