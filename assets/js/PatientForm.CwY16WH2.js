import{_ as e}from"./index.DhYhSSEc.js";import{s as l,t as a,u as t,v as n,w as o,x as s,y as i}from"./vendor-vuetify-core.CnSxw3Nd.js";import{b as r,o as u,H as d,K as m,_ as p,$ as c,u as v,Z as f,x as y,d as b,c as g,a8 as V,j as h,R as x,a2 as F,a0 as _,l as D}from"./vendor-vue.MuR-ak5S.js";import"./vendor-pdf.CZcEIuwn.js";/* empty css                     */const k=e({__name:"LocaleDatePicker",props:{modelValue:{type:String,default:""},label:{type:String,default:"Birthdate"},error:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:""}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,n=a,o=navigator.language;function s(e){if(!e)return null;const l=new Date(e);return isNaN(l.getTime())?null:l}const i=r(s(t.modelValue));u((()=>t.modelValue),(e=>{i.value=s(e)})),u(i,(e=>{const l=(a=e)?a.toISOString().split("T")[0]:"";var a;n("update:modelValue",l)}));const f=r(null);function y(){setTimeout((()=>{var e;const l=null==(e=f.value)?void 0:e.$el;l&&l.querySelectorAll(".v-field").forEach((e=>{e.hasAttribute("aria-selected")&&e.removeAttribute("aria-selected"),e.hasAttribute("aria-haspopup")&&"listbox"===e.getAttribute("aria-haspopup")&&e.setAttribute("aria-haspopup","dialog"),["aria-autocomplete","aria-multiselectable"].forEach((l=>{e.hasAttribute(l)&&e.removeAttribute(l)}))}))}),100)}return d((()=>{y();const e=new MutationObserver((()=>{y()}));setTimeout((()=>{var l;(null==(l=f.value)?void 0:l.$el)&&e.observe(f.value.$el,{subtree:!0,attributes:!0,attributeFilter:["aria-selected","aria-haspopup"]})}),200)})),m(y),(a,t)=>(c(),p(v(l),{ref_key:"dateInput",ref:f,density:"compact","prepend-icon":"","prepend-inner-icon":"$calendar",modelValue:i.value,"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),label:e.label,locale:v(o),dense:"",outlined:"",error:e.error,"error-messages":e.errorMessages},null,8,["modelValue","label","locale","error","error-messages"]))}},[["__scopeId","data-v-4e8304b0"]]),$=e({__name:"PatientForm",props:{patientData:{type:Object,required:!0},pdfConfig:{type:Object,required:!1,default:()=>({})}},emits:["update:modelValue"],setup(e,{emit:l}){const{t:u}=f(),m=r(0),$=()=>{m.value++};d((()=>{window.addEventListener("i18n-updated",$),window.addEventListener("i18n-locale-changed",$)})),y((()=>{window.removeEventListener("i18n-updated",$),window.removeEventListener("i18n-locale-changed",$)}));const N=e,U=l,S=b("patientData"),w=b("updatePersonalInfo"),I=b("getFieldErrors",(()=>({}))),q=g((()=>{const e=I("personalInfo");return e&&e.firstName?u(e.firstName):""})),j=g((()=>{const e=I("personalInfo");return e&&e.lastName?u(e.lastName):""})),C=g((()=>{const e=I("personalInfo");return e&&e.birthdate?u(e.birthdate):""})),A=g((()=>{const e=I("personalInfo");return e&&e.sex?u(e.sex):""})),E=g((()=>{const e=I("personalInfo");return e&&e.insurance?u(e.insurance):""})),G=g((()=>{const e=I("personalInfo");return e&&e.referrer?u(e.referrer):""})),O=g((()=>{const e=I("personalInfo");return e&&e.diagnosis?u(e.diagnosis):""}));function R(e,l,...a){return g({get(){if(S&&l&&S.personalInfo){const e=S.personalInfo[l];if(void 0!==e)return e}let t=N.patientData;const n=[e,...a];for(const e of n){if(null===t||"object"!=typeof t||!(e in t))return(1!==n.length||"variantSegregationRequested"!==n[0])&&"";t=t[e]}return 1===n.length&&"variantSegregationRequested"===n[0]?"boolean"==typeof t&&t:t??""},set(t){w&&l&&w({[l]:t});const n=JSON.parse(JSON.stringify(N.patientData));let o=n;const s=[e,...a];for(let e=0;e<s.length-1;e++){const l=s[e];null!==o[l]&&"object"==typeof o[l]||(o[l]={}),o=o[l]}o[s[s.length-1]]=t,U("update:patientData",n)}})}function H(...e){return g({get(){let l=N.patientData;for(const a of e){if(null===l||"object"!=typeof l||!(a in l))return(1!==e.length||"variantSegregationRequested"!==e[0])&&"";l=l[a]}return 1===e.length&&"variantSegregationRequested"===e[0]?"boolean"==typeof l&&l:l??""},set(l){const a=JSON.parse(JSON.stringify(N.patientData));let t=a;for(let n=0;n<e.length-1;n++){const l=e[n];null!==t[l]&&"object"==typeof t[l]||(t[l]={}),t=t[l]}t[e[e.length-1]]=l,U("update:patientData",a)}})}const L=R("givenName","firstName"),M=R("familyName","lastName"),J=R("birthdate","birthdate"),T=R("sex","sex"),B=R("insurance","insurance"),P=R("physicianName","referrer"),K=H("familyHistory"),Z=H("parentalConsanguinity"),z=R("diagnosis","diagnosis"),Q=H("orderingDate"),W=H("variantSegregationRequested"),X=H("variantDetails"),Y=H("genDGConsentData","provided"),ee=H("genDGConsentData","form","consentName"),le=H("genDGConsentData","form","consentDate"),ae=H("genDGConsentData","form","questionSecondaryFindings"),te=H("genDGConsentData","form","questionMaterial"),ne=H("genDGConsentData","form","questionExtended"),oe=H("genDGConsentData","form","questionResearch"),se=g((()=>[{text:u("patientForm.options.sex.male"),value:"male"},{text:u("patientForm.options.sex.female"),value:"female"},{text:u("patientForm.options.sex.undetermined"),value:"undetermined"}])),ie=g((()=>[{text:u("patientForm.options.familyHistory.conspicuous"),value:"conspicuous"},{text:u("patientForm.options.familyHistory.inconspicuous"),value:"inconspicuous"},{text:u("patientForm.options.familyHistory.unknown"),value:"unknown"}])),re=g((()=>[{text:u("patientForm.options.consanguinity.yes"),value:"yes"},{text:u("patientForm.options.consanguinity.no"),value:"no"}])),ue=g((()=>[{text:u("patientForm.options.consent.provided"),value:"provided"},{text:u("patientForm.options.consent.fill"),value:"fill"}])),de=g((()=>[{text:u("patientForm.options.yesNo.yes"),value:"yes"},{text:u("patientForm.options.yesNo.no"),value:"no"}]));return(e,l)=>(c(),V("div",null,[h(o,{dense:""},{default:_((()=>[h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(t,{density:"compact",outlined:"",label:v(u)("patientForm.labels.givenName"),key:`given-name-input-${m.value}`,modelValue:v(L),"onUpdate:modelValue":l[0]||(l[0]=e=>D(L)?L.value=e:null),"prepend-inner-icon":"mdi-account",error:!!q.value,"error-messages":q.value},null,8,["label","modelValue","error","error-messages"]))])),_:1}),l[19]||(l[19]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(t,{density:"compact",outlined:"",label:v(u)("patientForm.labels.familyName"),key:`family-name-input-${m.value}`,modelValue:v(M),"onUpdate:modelValue":l[1]||(l[1]=e=>D(M)?M.value=e:null),"prepend-inner-icon":"mdi-account-group",error:!!j.value,"error-messages":j.value},null,8,["label","modelValue","error","error-messages"]))])),_:1}),l[20]||(l[20]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(k,{modelValue:v(J),"onUpdate:modelValue":l[2]||(l[2]=e=>D(J)?J.value=e:null),label:v(u)("patientForm.labels.birthdate"),key:`birthdate-input-${m.value}`,error:!!C.value,"error-messages":C.value},null,8,["modelValue","label","error","error-messages"]))])),_:1}),l[21]||(l[21]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.sex"),key:`sex-input-${m.value}`,items:se.value,"item-title":"text","item-value":"value",modelValue:v(T),"onUpdate:modelValue":l[3]||(l[3]=e=>D(T)?T.value=e:null),"prepend-inner-icon":"mdi-gender-male-female",error:!!A.value,"error-messages":A.value},null,8,["label","items","modelValue","error","error-messages"]))])),_:1})])),_:1}),l[32]||(l[32]=x()),h(s,{class:"my-1"}),l[33]||(l[33]=x()),h(o,{dense:""},{default:_((()=>[h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(t,{density:"compact",outlined:"",label:v(u)("patientForm.labels.insurance"),key:`insurance-input-${m.value}`,modelValue:v(B),"onUpdate:modelValue":l[4]||(l[4]=e=>D(B)?B.value=e:null),"prepend-inner-icon":"mdi-card-account-details-outline",error:!!E.value,"error-messages":E.value},null,8,["label","modelValue","error","error-messages"]))])),_:1}),l[22]||(l[22]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(t,{density:"compact",outlined:"",label:v(u)("patientForm.labels.physicianName"),key:`physician-input-${m.value}`,modelValue:v(P),"onUpdate:modelValue":l[5]||(l[5]=e=>D(P)?P.value=e:null),"prepend-inner-icon":"mdi-stethoscope",error:!!G.value,"error-messages":G.value},null,8,["label","modelValue","error","error-messages"]))])),_:1})])),_:1}),l[34]||(l[34]=x()),h(s,{class:"my-1"}),l[35]||(l[35]=x()),h(o,{dense:""},{default:_((()=>[h(a,{cols:"12",sm:"4"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.familyHistory"),key:`family-history-input-${m.value}`,items:ie.value,"item-title":"text","item-value":"value",modelValue:v(K),"onUpdate:modelValue":l[6]||(l[6]=e=>D(K)?K.value=e:null),"prepend-inner-icon":"mdi-history"},null,8,["label","items","modelValue"]))])),_:1}),l[23]||(l[23]=x()),h(a,{cols:"12",sm:"4"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.parentalConsanguinity"),key:`consanguinity-input-${m.value}`,items:re.value,"item-title":"text","item-value":"value",modelValue:v(Z),"onUpdate:modelValue":l[7]||(l[7]=e=>D(Z)?Z.value=e:null),"prepend-inner-icon":"mdi-human-male-female"},null,8,["label","items","modelValue"]))])),_:1}),l[24]||(l[24]=x()),h(a,{cols:"12",sm:"4"},{default:_((()=>[(c(),p(t,{density:"compact",outlined:"",label:v(u)("patientForm.labels.diagnosis"),key:`diagnosis-input-${m.value}`,modelValue:v(z),"onUpdate:modelValue":l[8]||(l[8]=e=>D(z)?z.value=e:null),rows:"2","prepend-inner-icon":"mdi-file-document-edit-outline","persistent-hint":"",error:!!O.value,"error-messages":O.value},null,8,["label","modelValue","error","error-messages"]))])),_:1})])),_:1}),l[36]||(l[36]=x()),h(s,{class:"my-1"}),l[37]||(l[37]=x()),h(o,{dense:""},{default:_((()=>[h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(k,{modelValue:v(Q),"onUpdate:modelValue":l[9]||(l[9]=e=>D(Q)?Q.value=e:null),label:v(u)("patientForm.labels.orderingDate"),key:`ordering-date-input-${m.value}`},null,8,["modelValue","label"]))])),_:1}),l[25]||(l[25]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.consent"),key:`consent-input-${m.value}`,items:ue.value,"item-title":"text","item-value":"value",modelValue:v(Y),"onUpdate:modelValue":l[10]||(l[10]=e=>D(Y)?Y.value=e:null)},null,8,["label","items","modelValue"]))])),_:1})])),_:1}),l[38]||(l[38]=x()),"fill"===v(Y)?(c(),p(o,{key:0,dense:"",class:"mt-2"},{default:_((()=>[h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(t,{density:"compact",outlined:"",label:v(u)("patientForm.labels.consentGivenBy"),key:`consent-given-by-input-${m.value}`,modelValue:v(ee),"onUpdate:modelValue":l[11]||(l[11]=e=>D(ee)?ee.value=e:null)},null,8,["label","modelValue"]))])),_:1}),l[26]||(l[26]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(k,{modelValue:v(le),"onUpdate:modelValue":l[12]||(l[12]=e=>D(le)?le.value=e:null),label:v(u)("patientForm.labels.consentDate"),key:`consent-date-input-${m.value}`},null,8,["modelValue","label"]))])),_:1}),l[27]||(l[27]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.consentSecondaryFindings"),key:`consent-secondary-input-${m.value}`,items:de.value,"item-title":"text","item-value":"value",modelValue:v(ae),"onUpdate:modelValue":l[13]||(l[13]=e=>D(ae)?ae.value=e:null)},null,8,["label","items","modelValue"]))])),_:1}),l[28]||(l[28]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.consentMaterial"),key:`consent-material-input-${m.value}`,items:de.value,"item-title":"text","item-value":"value",modelValue:v(te),"onUpdate:modelValue":l[14]||(l[14]=e=>D(te)?te.value=e:null)},null,8,["label","items","modelValue"]))])),_:1}),l[29]||(l[29]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.consentExtendedStorage"),key:`consent-extended-input-${m.value}`,items:de.value,"item-title":"text","item-value":"value",modelValue:v(ne),"onUpdate:modelValue":l[15]||(l[15]=e=>D(ne)?ne.value=e:null)},null,8,["label","items","modelValue"]))])),_:1}),l[30]||(l[30]=x()),h(a,{cols:"12",sm:"6"},{default:_((()=>[(c(),p(n,{density:"compact",outlined:"",label:v(u)("patientForm.labels.consentResearch"),key:`consent-research-input-${m.value}`,items:de.value,"item-title":"text","item-value":"value",modelValue:v(oe),"onUpdate:modelValue":l[16]||(l[16]=e=>D(oe)?oe.value=e:null)},null,8,["label","items","modelValue"]))])),_:1})])),_:1})):F("",!0),l[39]||(l[39]=x()),h(s,{class:"my-1"}),l[40]||(l[40]=x()),h(o,{dense:""},{default:_((()=>[h(a,{cols:"12"},{default:_((()=>[(c(),p(i,{density:"compact",label:v(u)("patientForm.labels.requestVariantSegregation"),key:`variant-segregation-input-${m.value}`,modelValue:v(W),"onUpdate:modelValue":l[17]||(l[17]=e=>D(W)?W.value=e:null)},null,8,["label","modelValue"]))])),_:1}),l[31]||(l[31]=x()),v(W)?(c(),p(a,{key:0,cols:"12"},{default:_((()=>[(c(),p(t,{density:"compact",outlined:"",key:`variant-details-field-${m.value}`,label:v(u)("patientForm.labels.variantDetails"),modelValue:v(X),"onUpdate:modelValue":l[18]||(l[18]=e=>D(X)?X.value=e:null),hint:v(u)("patientForm.hints.variantDetails"),"persistent-hint":""},null,8,["label","modelValue","hint"]))])),_:1})):F("",!0)])),_:1})]))}},[["__scopeId","data-v-0d7435b2"]]);export{$ as default};
