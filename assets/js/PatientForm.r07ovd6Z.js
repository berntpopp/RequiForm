import{g as Fe,p as xe,u as Ne,a as Ie,b as Se,c as Ce,s as Pe,r as Z,d as F,w as Ue,e as $e,V as me,f as pe,o as ce,h as U,i as r,F as we,j as Ee,m as ie,k as Ae,l as Oe,n as qe,q as Ge,t as Re,_ as ye,v as fe,x as ge,y as Me,z as f,A as d,B as l,C as Be,D as He,E as ue,G as Le,H as p,I as ve,J as i,K as g,L as V,M as E,N as G,O as Y,P as je}from"./index.BOhBcDCI.js";const Je=xe({hideActions:Boolean,location:{type:String,default:"bottom start"},...Ge(),...qe(),...Oe({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...ce(Re({hideHeader:!0,showAdjacentMonths:!0}),["active","location","rounded"])},"VDateInput"),Te=Fe()({name:"VDateInput",props:Je(),emits:{"update:modelValue":s=>!0},setup(s,R){let{slots:t}=R;const{t:u}=Ne(),y=Ie(),{isFocused:N,focus:A,blur:C}=Se(s),D=Ce(s,"modelValue",s.multiple?[]:null,o=>Array.isArray(o)?o.map(m=>y.toJsDate(m)):o&&y.toJsDate(o),o=>Array.isArray(o)?o.map(m=>y.date(m)):o&&y.date(o)),v=Pe(!1),c=Z(),I=F(()=>{const o=Ue(D.value);if(!o.length)return null;if(s.multiple===!0)return u("$vuetify.datePicker.itemsSelected",o.length);if(s.multiple==="range"){const m=o[0],$=o[o.length-1];return y.isValid(m)&&y.isValid($)?`${y.format(y.date(m),"keyboardDate")} - ${y.format(y.date($),"keyboardDate")}`:""}return y.isValid(D.value)?y.format(y.date(D.value),"keyboardDate"):""}),x=F(()=>!s.disabled&&!s.readonly);function O(o){if(o.key!=="Enter")return;if(!v.value||!N.value){v.value=!0;return}const m=o.target;D.value=m.value}function M(o){o.preventDefault(),o.stopPropagation(),v.value=!0}function J(){v.value=!1}function T(o){o==null&&(D.value=null)}return $e(()=>{const o=me.filterProps(s),m=pe.filterProps(ce(s,["active","location","rounded"])),$=U.filterProps(s);return r(U,ie({ref:c},$,{class:s.class,style:s.style,modelValue:I.value,onKeydown:x.value?O:void 0,focused:v.value||N.value,onFocus:A,onBlur:C,"onClick:control":x.value?M:void 0,"onClick:prepend":x.value?M:void 0,"onUpdate:modelValue":T}),{...t,default:()=>r(we,null,[r(Ee,{modelValue:v.value,"onUpdate:modelValue":P=>v.value=P,activator:"parent","min-width":"0",eager:N.value,location:s.location,closeOnContentClick:!1,openOnClick:!1},{default:()=>[r(me,ie(o,{modelValue:D.value,"onUpdate:modelValue":P=>D.value=P,onSave:J,onCancel:()=>v.value=!1}),{default:P=>{let{actions:B,model:q,save:H,cancel:L,isPristine:j}=P;return r(pe,ie(m,{modelValue:s.hideActions?D.value:q.value,"onUpdate:modelValue":w=>{s.hideActions?(D.value=w,s.multiple||(v.value=!1)):q.value=w},onMousedown:w=>w.preventDefault()}),{actions:s.hideActions?void 0:()=>t.actions?.({save:H,cancel:L,isPristine:j})??B()})}})]}),t.default?.()])})}),Ae({},c)}}),ze={__name:"LocaleDatePicker",props:{modelValue:{type:String,default:""},label:{type:String,default:"Birthdate"},error:{type:Boolean,default:!1},errorMessages:{type:[String,Array],default:""}},emits:["update:modelValue"],setup(s,{emit:R}){const t=s,u=R,y=navigator.language;function N(c){if(!c)return null;const I=new Date(c);return isNaN(I.getTime())?null:I}function A(c){return c?c.toISOString().split("T")[0]:""}const C=Z(N(t.modelValue));fe(()=>t.modelValue,c=>{C.value=N(c)}),fe(C,c=>{const I=A(c);u("update:modelValue",I)});const D=Z(null);function v(){setTimeout(()=>{const c=D.value?.$el;if(!c)return;c.querySelectorAll(".v-field").forEach(x=>{x.hasAttribute("aria-selected")&&x.removeAttribute("aria-selected"),x.hasAttribute("aria-haspopup")&&x.getAttribute("aria-haspopup")==="listbox"&&x.setAttribute("aria-haspopup","dialog"),["aria-autocomplete","aria-multiselectable"].forEach(O=>{x.hasAttribute(O)&&x.removeAttribute(O)})})},100)}return ge(()=>{v();const c=new MutationObserver(()=>{v()});setTimeout(()=>{D.value?.$el&&c.observe(D.value.$el,{subtree:!0,attributes:!0,attributeFilter:["aria-selected","aria-haspopup"]})},200)}),Me(v),(c,I)=>(d(),f(l(Te),{ref_key:"dateInput",ref:D,density:"compact","prepend-icon":"","prepend-inner-icon":"$calendar",modelValue:C.value,"onUpdate:modelValue":I[0]||(I[0]=x=>C.value=x),label:s.label,locale:l(y),dense:"",outlined:"",error:s.error,"error-messages":s.errorMessages},null,8,["modelValue","label","locale","error","error-messages"]))}},de=ye(ze,[["__scopeId","data-v-4e8304b0"]]),Qe={__name:"PatientForm",props:{patientData:{type:Object,required:!0},pdfConfig:{type:Object,required:!1,default:()=>({})}},emits:["update:modelValue","update:patientData"],setup(s,{emit:R}){const{t}=Be(),u=Z(0),y=()=>{u.value++};ge(()=>{window.addEventListener("i18n-updated",y),window.addEventListener("i18n-locale-changed",y)}),He(()=>{window.removeEventListener("i18n-updated",y),window.removeEventListener("i18n-locale-changed",y)});const N=s,A=R,C=ue("patientData"),D=ue("updatePersonalInfo"),v=ue("getFieldErrors",()=>({})),c=F(()=>{const a=v("personalInfo");return a&&a.firstName?t(a.firstName):""}),I=F(()=>{const a=v("personalInfo");return a&&a.lastName?t(a.lastName):""}),x=F(()=>{const a=v("personalInfo");return a&&a.birthdate?t(a.birthdate):""}),O=F(()=>{const a=v("personalInfo");return a&&a.sex?t(a.sex):""}),M=F(()=>{const a=v("personalInfo");return a&&a.insurance?t(a.insurance):""}),J=F(()=>{const a=v("personalInfo");return a&&a.referrer?t(a.referrer):""}),T=F(()=>{const a=v("personalInfo");return a&&a.diagnosis?t(a.diagnosis):""});function o(a,e,...n){return F({get(){if(C&&e&&C.personalInfo){const k=C.personalInfo[e];if(k!==void 0)return k}let b=N.patientData;const S=[a,...n];for(const k of S){if(b===null||typeof b!="object"||!(k in b))return S.length===1&&S[0]==="variantSegregationRequested"?!1:"";b=b[k]}return S.length===1&&S[0]==="variantSegregationRequested"?typeof b=="boolean"?b:!1:b??""},set(b){D&&e&&D({[e]:b});const S=JSON.parse(JSON.stringify(N.patientData));let k=S;const W=[a,...n];for(let se=0;se<W.length-1;se++){const X=W[se];(k[X]===null||typeof k[X]!="object")&&(k[X]={}),k=k[X]}k[W[W.length-1]]=b,A("update:patientData",S)}})}function m(...a){return F({get(){let e=N.patientData;for(const n of a){if(e===null||typeof e!="object"||!(n in e))return a.length===1&&a[0]==="variantSegregationRequested"?!1:"";e=e[n]}return a.length===1&&a[0]==="variantSegregationRequested"?typeof e=="boolean"?e:!1:e??""},set(e){const n=JSON.parse(JSON.stringify(N.patientData));let b=n;for(let S=0;S<a.length-1;S++){const k=a[S];(b[k]===null||typeof b[k]!="object")&&(b[k]={}),b=b[k]}b[a[a.length-1]]=e,A("update:patientData",n)}})}const $=o("givenName","firstName"),P=o("familyName","lastName"),B=o("birthdate","birthdate"),q=o("sex","sex"),H=o("insurance","insurance"),L=o("physicianName","referrer"),j=m("familyHistory"),w=m("parentalConsanguinity"),K=o("diagnosis","diagnosis"),h=m("orderingDate"),_=F({get(){const a=N.patientData.variantSegregationRequested;return typeof a=="boolean"?a:!1},set(a){const e={...N.patientData};e.variantSegregationRequested=a,A("update:patientData",e)}}),ee=m("variantDetails"),z=m("genDGConsentData","provided"),te=m("genDGConsentData","form","consentName"),ae=m("genDGConsentData","form","consentDate"),ne=m("genDGConsentData","form","questionSecondaryFindings"),le=m("genDGConsentData","form","questionMaterial"),oe=m("genDGConsentData","form","questionExtended"),re=m("genDGConsentData","form","questionResearch"),be=F(()=>[{text:t("patientForm.options.sex.male"),value:"male"},{text:t("patientForm.options.sex.female"),value:"female"},{text:t("patientForm.options.sex.undetermined"),value:"undetermined"}]),Ve=F(()=>[{text:t("patientForm.options.familyHistory.conspicuous"),value:"conspicuous"},{text:t("patientForm.options.familyHistory.inconspicuous"),value:"inconspicuous"},{text:t("patientForm.options.familyHistory.unknown"),value:"unknown"}]),De=F(()=>[{text:t("patientForm.options.consanguinity.yes"),value:"yes"},{text:t("patientForm.options.consanguinity.no"),value:"no"}]),ke=F(()=>[{text:t("patientForm.options.consent.provided"),value:"provided"},{text:t("patientForm.options.consent.fill"),value:"fill"}]),Q=F(()=>[{text:t("patientForm.options.yesNo.yes"),value:"yes"},{text:t("patientForm.options.yesNo.no"),value:"no"}]);return(a,e)=>(d(),Le("div",null,[r(G,{dense:""},{default:i(()=>[r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(U,{density:"compact",outlined:"",label:l(t)("patientForm.labels.givenName"),key:`given-name-input-${u.value}`,modelValue:l($),"onUpdate:modelValue":e[0]||(e[0]=n=>V($)?$.value=n:null),"prepend-inner-icon":"mdi-account",error:!!c.value,"error-messages":c.value},null,8,["label","modelValue","error","error-messages"]))]),_:1}),e[19]||(e[19]=p()),r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(U,{density:"compact",outlined:"",label:l(t)("patientForm.labels.familyName"),key:`family-name-input-${u.value}`,modelValue:l(P),"onUpdate:modelValue":e[1]||(e[1]=n=>V(P)?P.value=n:null),"prepend-inner-icon":"mdi-account-group",error:!!I.value,"error-messages":I.value},null,8,["label","modelValue","error","error-messages"]))]),_:1}),e[20]||(e[20]=p()),r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(de,{modelValue:l(B),"onUpdate:modelValue":e[2]||(e[2]=n=>V(B)?B.value=n:null),label:l(t)("patientForm.labels.birthdate"),key:`birthdate-input-${u.value}`,error:!!x.value,"error-messages":x.value},null,8,["modelValue","label","error","error-messages"]))]),_:1}),e[21]||(e[21]=p()),r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(E,{density:"compact",outlined:"",label:l(t)("patientForm.labels.sex"),key:`sex-input-${u.value}`,items:be.value,"item-title":"text","item-value":"value",modelValue:l(q),"onUpdate:modelValue":e[3]||(e[3]=n=>V(q)?q.value=n:null),"prepend-inner-icon":"mdi-gender-male-female",error:!!O.value,"error-messages":O.value},null,8,["label","items","modelValue","error","error-messages"]))]),_:1})]),_:1}),e[32]||(e[32]=p()),r(Y,{class:"my-1"}),e[33]||(e[33]=p()),r(G,{dense:""},{default:i(()=>[r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(U,{density:"compact",outlined:"",label:l(t)("patientForm.labels.insurance"),key:`insurance-input-${u.value}`,modelValue:l(H),"onUpdate:modelValue":e[4]||(e[4]=n=>V(H)?H.value=n:null),"prepend-inner-icon":"mdi-card-account-details-outline",error:!!M.value,"error-messages":M.value},null,8,["label","modelValue","error","error-messages"]))]),_:1}),e[22]||(e[22]=p()),r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(U,{density:"compact",outlined:"",label:l(t)("patientForm.labels.physicianName"),key:`physician-input-${u.value}`,modelValue:l(L),"onUpdate:modelValue":e[5]||(e[5]=n=>V(L)?L.value=n:null),"prepend-inner-icon":"mdi-stethoscope",error:!!J.value,"error-messages":J.value},null,8,["label","modelValue","error","error-messages"]))]),_:1})]),_:1}),e[34]||(e[34]=p()),r(Y,{class:"my-1"}),e[35]||(e[35]=p()),r(G,{dense:""},{default:i(()=>[r(g,{cols:"12",sm:"4"},{default:i(()=>[(d(),f(E,{density:"compact",outlined:"",label:l(t)("patientForm.labels.familyHistory"),key:`family-history-input-${u.value}`,items:Ve.value,"item-title":"text","item-value":"value",modelValue:l(j),"onUpdate:modelValue":e[6]||(e[6]=n=>V(j)?j.value=n:null),"prepend-inner-icon":"mdi-history"},null,8,["label","items","modelValue"]))]),_:1}),e[23]||(e[23]=p()),r(g,{cols:"12",sm:"4"},{default:i(()=>[(d(),f(E,{density:"compact",outlined:"",label:l(t)("patientForm.labels.parentalConsanguinity"),key:`consanguinity-input-${u.value}`,items:De.value,"item-title":"text","item-value":"value",modelValue:l(w),"onUpdate:modelValue":e[7]||(e[7]=n=>V(w)?w.value=n:null),"prepend-inner-icon":"mdi-human-male-female"},null,8,["label","items","modelValue"]))]),_:1}),e[24]||(e[24]=p()),r(g,{cols:"12",sm:"4"},{default:i(()=>[(d(),f(U,{density:"compact",outlined:"",label:l(t)("patientForm.labels.diagnosis"),key:`diagnosis-input-${u.value}`,modelValue:l(K),"onUpdate:modelValue":e[8]||(e[8]=n=>V(K)?K.value=n:null),rows:"2","prepend-inner-icon":"mdi-file-document-edit-outline","persistent-hint":"",error:!!T.value,"error-messages":T.value},null,8,["label","modelValue","error","error-messages"]))]),_:1})]),_:1}),e[36]||(e[36]=p()),r(Y,{class:"my-1"}),e[37]||(e[37]=p()),r(G,{dense:""},{default:i(()=>[r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(de,{modelValue:l(h),"onUpdate:modelValue":e[9]||(e[9]=n=>V(h)?h.value=n:null),label:l(t)("patientForm.labels.orderingDate"),key:`ordering-date-input-${u.value}`},null,8,["modelValue","label"]))]),_:1}),e[25]||(e[25]=p()),r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(E,{density:"compact",outlined:"",label:l(t)("patientForm.labels.consent"),key:`consent-input-${u.value}`,items:ke.value,"item-title":"text","item-value":"value",modelValue:l(z),"onUpdate:modelValue":e[10]||(e[10]=n=>V(z)?z.value=n:null)},null,8,["label","items","modelValue"]))]),_:1})]),_:1}),e[38]||(e[38]=p()),l(z)==="fill"?(d(),f(G,{key:0,dense:"",class:"mt-2"},{default:i(()=>[r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(U,{density:"compact",outlined:"",label:l(t)("patientForm.labels.consentGivenBy"),key:`consent-given-by-input-${u.value}`,modelValue:l(te),"onUpdate:modelValue":e[11]||(e[11]=n=>V(te)?te.value=n:null)},null,8,["label","modelValue"]))]),_:1}),e[26]||(e[26]=p()),r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(de,{modelValue:l(ae),"onUpdate:modelValue":e[12]||(e[12]=n=>V(ae)?ae.value=n:null),label:l(t)("patientForm.labels.consentDate"),key:`consent-date-input-${u.value}`},null,8,["modelValue","label"]))]),_:1}),e[27]||(e[27]=p()),r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(E,{density:"compact",outlined:"",label:l(t)("patientForm.labels.consentSecondaryFindings"),key:`consent-secondary-input-${u.value}`,items:Q.value,"item-title":"text","item-value":"value",modelValue:l(ne),"onUpdate:modelValue":e[13]||(e[13]=n=>V(ne)?ne.value=n:null)},null,8,["label","items","modelValue"]))]),_:1}),e[28]||(e[28]=p()),r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(E,{density:"compact",outlined:"",label:l(t)("patientForm.labels.consentMaterial"),key:`consent-material-input-${u.value}`,items:Q.value,"item-title":"text","item-value":"value",modelValue:l(le),"onUpdate:modelValue":e[14]||(e[14]=n=>V(le)?le.value=n:null)},null,8,["label","items","modelValue"]))]),_:1}),e[29]||(e[29]=p()),r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(E,{density:"compact",outlined:"",label:l(t)("patientForm.labels.consentExtendedStorage"),key:`consent-extended-input-${u.value}`,items:Q.value,"item-title":"text","item-value":"value",modelValue:l(oe),"onUpdate:modelValue":e[15]||(e[15]=n=>V(oe)?oe.value=n:null)},null,8,["label","items","modelValue"]))]),_:1}),e[30]||(e[30]=p()),r(g,{cols:"12",sm:"6"},{default:i(()=>[(d(),f(E,{density:"compact",outlined:"",label:l(t)("patientForm.labels.consentResearch"),key:`consent-research-input-${u.value}`,items:Q.value,"item-title":"text","item-value":"value",modelValue:l(re),"onUpdate:modelValue":e[16]||(e[16]=n=>V(re)?re.value=n:null)},null,8,["label","items","modelValue"]))]),_:1})]),_:1})):ve("",!0),e[39]||(e[39]=p()),r(Y,{class:"my-1"}),e[40]||(e[40]=p()),r(G,{dense:""},{default:i(()=>[r(g,{cols:"12"},{default:i(()=>[(d(),f(je,{density:"compact",label:l(t)("patientForm.labels.requestVariantSegregation"),key:`variant-segregation-input-${u.value}`,modelValue:_.value,"onUpdate:modelValue":e[17]||(e[17]=n=>_.value=n)},null,8,["label","modelValue"]))]),_:1}),e[31]||(e[31]=p()),_.value?(d(),f(g,{key:0,cols:"12"},{default:i(()=>[(d(),f(U,{density:"compact",outlined:"",key:`variant-details-field-${u.value}`,label:l(t)("patientForm.labels.variantDetails"),modelValue:l(ee),"onUpdate:modelValue":e[18]||(e[18]=n=>V(ee)?ee.value=n:null),hint:l(t)("patientForm.hints.variantDetails"),"persistent-hint":""},null,8,["label","modelValue","hint"]))]),_:1})):ve("",!0)]),_:1})]))}},Xe=ye(Qe,[["__scopeId","data-v-d6135464"]]);export{Xe as default};
